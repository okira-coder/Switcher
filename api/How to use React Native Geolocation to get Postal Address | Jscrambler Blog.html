
<!doctype html>
<html lang="en">
<head>
<link rel="stylesheet" type="text/css" href="/styles.css" />
<title data-react-helmet="true">How to use React Native Geolocation to get Postal Address | Jscrambler Blog</title>
<meta data-react-helmet="true" charset="UTF-8" /><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1" /><meta data-react-helmet="true" name="author" content="Jscrambler Code" /><meta data-react-helmet="true" http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta data-react-helmet="true" property="og:locale" content="en_US" /><meta data-react-helmet="true" property="fb:admins" content="1834350701" /><meta data-react-helmet="true" name="twitter:card" content="summary_large_image" /><meta data-react-helmet="true" name="twitter:site" content="@jscrambler" /><meta data-react-helmet="true" name="twitter:creator" content="@jscrambler" /><meta data-react-helmet="true" name="description" content="In this tutorial, let&#x27;s learn how you can implement a feature to get the current location of a device in a React Native app. To do this we’ll be using an API provided by Expo." /><meta data-react-helmet="true" name="twitter:image" content="https://blog.jscrambler.com/content/images/2021/02/jscrambler-blog-how-to-create-a-react-native-geolocation-app-thumbnail.jpg" /><meta data-react-helmet="true" name="twitter:title" content="How to use React Native Geolocation to get Postal Address | Jscrambler Blog" /><meta data-react-helmet="true" name="twitter:description" content="In this tutorial, let&#x27;s learn how you can implement a feature to get the current location of a device in a React Native app. To do this we’ll be using an API provided by Expo." /><meta data-react-helmet="true" property="og:image" content="https://blog.jscrambler.com/content/images/2021/02/jscrambler-blog-how-to-create-a-react-native-geolocation-app-thumbnail.jpg" /><meta data-react-helmet="true" property="og:url" content="https://blog.jscrambler.com/how-to-use-react-native-geolocation-to-get-postal-address" /><meta data-react-helmet="true" property="og:type" content="website" /><meta data-react-helmet="true" property="og:title" content="How to use React Native Geolocation to get Postal Address | Jscrambler Blog" /><meta data-react-helmet="true" property="og:description" content="In this tutorial, let&#x27;s learn how you can implement a feature to get the current location of a device in a React Native app. To do this we’ll be using an API provided by Expo." /><meta data-react-helmet="true" property="og:site_name" content="Jscrambler" />
<link data-react-helmet="true" rel="publisher" href="https://plus.google.com/+Jscrambler" /><link data-react-helmet="true" rel="canonical" href="https://blog.jscrambler.com/how-to-use-react-native-geolocation-to-get-postal-address" />
<script data-react-helmet="true" type="application/ld+json">
              {
                "@context": "https://schema.org/",
                "@type": "Article",
                "author": { "@type": "Person" , "name": "Aman Mittal" },
                "headline": "How to use React Native Geolocation to get Postal Address",
                "image": { "@type": "ImageObject",
                "url": "https://blog.jscrambler.com/content/images/2021/02/jscrambler-blog-how-to-create-a-react-native-geolocation-app-thumbnail.jpg" },
                "datePublished": "2021-02-25T11:04:57.000+00:00",
                "publisher": { "@type": "Organization", "name": "Jscrambler" },
                "keywords": ["React Native","Mobile","JavaScript"]
              } 
            </script>
<link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
<link rel="stylesheet" type="text/css" href="/css/normalize.min.css" />
<link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css" />
<script type="text/javascript" src="/shared/ghost-url.min.js"></script>
<script type="text/javascript">
(function(e,t,o,n,p,r,i){e.visitorGlobalObjectAlias=n;e[e.visitorGlobalObjectAlias]=e[e.visitorGlobalObjectAlias]||function(){(e[e.visitorGlobalObjectAlias].q=e[e.visitorGlobalObjectAlias].q||[]).push(arguments)};e[e.visitorGlobalObjectAlias].l=(new Date).getTime();r=t.createElement("script");r.src=o;r.async=true;i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)})(window,document,"https://diffuser-cdn.app-us1.com/diffuser/diffuser.js","vgo");
vgo('setAccount', '253904699');
vgo('setTrackByDefault', true);

vgo('process');
</script>
<meta name="google-site-verification" content="b-0tY0IzJ3UBuFPLIFXntgQC7_sT6V5d5Zv7skK8P-o" />
</head>
<body>
<div id="root"><div class="root--3trTw" data-reactroot=""><div class="content--yzBub"><div class="wrapper--2KtCm"><div class="navbarWrapper--1M28m"><nav class="navbarRoot--3F_uX white--1WDv_ fixed--2Be4n navBar--10T8g"><div class="mainMenu--W0xGA"><div class="leftMenu--18rk1"><a href="/" class="navLogo--sFXoM"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iOTYiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCA5NiAyOCI+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBpZD0iYSIgZD0iTTAgMjcuODk3aDk2VjBIMHoiLz4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzA5RiIgZD0iTTcuMjc2IDIyLjIzMmMtLjYyNSAwLTEuMTYzLS4wNjctMS42MTEtLjJ2LTEuOTI0Yy4zNzQuMTAxLjc1Ni4xNTIgMS4xNDYuMTUyLjQxIDAgLjcxMi0uMTE1LjkwMi0uMzQ0LjE4OS0uMjMuMjg0LS41Ny4yODQtMS4wMTh2LTguMTU2aDIuNDQ2djguNTE2YzAgLjk1MS0uMjc2IDEuNjg1LS44MjYgMi4yMDEtLjU1MS41MTUtMS4zMzEuNzczLTIuMzQxLjc3M3pNMTguODUgMTcuMDQzYzAgLjkyLS4zMiAxLjYyLS45NTggMi4xLS42MzkuNDgxLTEuNTk0LjcyMi0yLjg2Ni43MjItLjY1MiAwLTEuMjA4LS4wNDQtMS42NjgtLjEzM2E2LjMwNSA2LjMwNSAwIDAgMS0xLjI5LS4zODh2LTIuMDJjLjQ1NC4yMTMuOTY2LjM5MiAxLjUzNS41MzYuNTcuMTQ1IDEuMDcuMjE3IDEuNTAzLjIxNy44ODcgMCAxLjMzMS0uMjU3IDEuMzMxLS43NjlhLjY0Ny42NDcgMCAwIDAtLjE3Ni0uNDdjLS4xMTgtLjEyLS4zMi0uMjU2LS42MS0uNDA4LS4yODgtLjE1My0uNjczLS4zMy0xLjE1NC0uNTMzLS42ODktLjI4OS0xLjE5Ni0uNTU2LTEuNTE5LS44MDJhMi4yNTQgMi4yNTQgMCAwIDEtLjcwNi0uODQ2Yy0uMTQ3LS4zMTgtLjIyLS43MDktLjIyLTEuMTc0IDAtLjc5Ny4zMS0xLjQxMi45MjYtMS44NDguNjE3LS40MzUgMS40OTItLjY1MyAyLjYyNS0uNjUzIDEuMDggMCAyLjEzLjIzNSAzLjE1MS43MDVsLS43MzggMS43NjRhMTMuNTQgMTMuNTQgMCAwIDAtMS4yNTgtLjQ3MyAzLjk1OSAzLjk1OSAwIDAgMC0xLjE5NS0uMTg1Yy0uNzIgMC0xLjA4Mi4xOTYtMS4wODIuNTg2IDAgLjIyLjExNi40MDguMzQ4LjU3LjIzMy4xNi43NDIuMzk3IDEuNTI4LjcxMi43LjI4NCAxLjIxMy41NDggMS41NC43OTQuMzI1LjI0Ni41NjUuNTMuNzIuODUuMTU1LjMyLjIzMy43MDIuMjMzIDEuMTQ2TTIzLjk4NyAxOS44NjVjLTIuNzkgMC00LjE4NS0xLjUzMS00LjE4NS00LjU5NCAwLTEuNTIzLjM4LTIuNjg2IDEuMTM5LTMuNDkuNzU4LS44MDUgMS44NDYtMS4yMDcgMy4yNjItMS4yMDcgMS4wMzcgMCAxLjk2Ny4yMDMgMi43OS42MDlsLS43MjEgMS44OTJhMTIuMzQyIDEyLjM0MiAwIDAgMC0xLjA3NS0uMzgxIDMuNDUgMy40NSAwIDAgMC0uOTk0LS4xNDhjLTEuMjcyIDAtMS45MDcuOTAzLTEuOTA3IDIuNzEgMCAxLjc1My42MzUgMi42MjkgMS45MDcgMi42MjkuNDcgMCAuOTA3LS4wNjMgMS4zMDctLjE4OGE0LjcxMiA0LjcxMiAwIDAgMCAxLjIwMy0uNTl2Mi4wOTJhMy45MTggMy45MTggMCAwIDEtMS4yLjUyMWMtLjQwMi4wOTctLjkxMi4xNDUtMS41MjYuMTQ1Ii8+CiAgICAgICAgPG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNhIi8+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxwYXRoIGZpbGw9IiMwOUYiIGQ9Ik03MC42MTggMTkuNzA1aDIuNDQ1VjcuNDA4aC0yLjQ0NXpNNzguOTMgMTIuMzEzYy0uNTE4IDAtLjkyNC4xNjUtMS4yMTguNDkzLS4yOTQuMzMtLjQ2My43OTUtLjUwNSAxLjRoMy40M2MtLjAxLS42MDUtLjE2Ny0xLjA3LS40NzItMS40LS4zMDUtLjMyOC0uNzE2LS40OTMtMS4yMzUtLjQ5M20uMzQ1IDcuNTUyYy0xLjQ0MyAwLTIuNTcxLS4zOTgtMy4zODMtMS4xOTUtLjgxMy0uNzk2LTEuMjE4LTEuOTI0LTEuMjE4LTMuMzgzIDAtMS41LjM3NS0yLjY2MiAxLjEyNi0zLjQ4My43NS0uODIgMS43ODktMS4yMyAzLjExNC0xLjIzIDEuMjY3IDAgMi4yNTMuMzYxIDIuOTU4IDEuMDgyLjcwNS43MjEgMS4wNTggMS43MTggMS4wNTggMi45OXYxLjE4N2gtNS43OGMuMDI3LjY5NC4yMzMgMS4yMzcuNjE4IDEuNjI3LjM4NS4zOS45MjQuNTg1IDEuNjE5LjU4NS41NCAwIDEuMDUtLjA1NiAxLjUzLS4xNjlhNy42MTggNy42MTggMCAwIDAgMS41MDgtLjUzN3YxLjg5MmE1Ljc1OCA1Ljc1OCAwIDAgMS0xLjM3LjQ3OGMtLjQ4Ny4xMDQtMS4wOC4xNTYtMS43OC4xNTZNNTcuNzYgMTEuMzU1Yy0uNTIyLS41Mi0xLjI5LS43OC0yLjMwNi0uNzgtMS43NjUgMC0yLjg2MiAxLjMxMy0yLjg2MiAxLjMxMy0uNDc2LS44NzYtMS4zODQtMS4zMTQtMi43MjUtMS4zMTQtLjU4OCAwLTEuMTA5LjExNi0xLjU2NC4zNDhhMi40OTUgMi40OTUgMCAwIDAtMS4wNDIuOTY2di0xLjE0Nkg0NC45M3Y4Ljk2MmgyLjQ0NXYtNC4yMTZjMC0xLjA1My4xNDEtMS44MDkuNDI1LTIuMjY5LjI4My0uNDYuNzM3LS42ODkgMS4zNjItLjY4OS40NjUgMCAuODA2LjE2MSAxLjAyMi40ODUuMjE3LjMyMy4zMjUuODA4LjMyNSAxLjQ1NXY1LjIzNGgyLjQ0NXYtNC40OTdjMC0uOTMuMTQ4LTEuNjA4LjQ0NS0yLjAzNi4yOTctLjQyNy43NDQtLjY0IDEuMzQzLS42NC40NjUgMCAuODA2LjE2IDEuMDIyLjQ4NC4yMTYuMzIzLjMyNS44MDguMzI1IDEuNDU1djUuMjM0aDIuNDUzVjEzLjg2YzAtMS4xNDktLjI2LTEuOTg0LS43ODItMi41MDVNNjYuMDcgMTcuMTkyYy0uMjk2LjQ2Mi0uNjk1LjY5My0xLjE5OC42OTMtLjYyIDAtMS4wNzItLjIwOC0xLjM1OC0uNjI1LS4yODYtLjQxNy0uNDMtMS4xMDctLjQzLTIuMDY4di0uMjY1Yy4wMS0uODU1LjE1NS0xLjQ2OC40MzQtMS44NC4yNzgtLjM3MS43MTktLjU1NyAxLjMyMy0uNTU3LjUxOCAwIC45MjYuMjIgMS4yMjYuNjYyLjI5OS40NC40NDkgMS4xMDIuNDQ5IDEuOTgzIDAgLjg4Mi0uMTUgMS41NTUtLjQ0NSAyLjAxN20yLjA0LTUuMzljLS42LS44MjQtMS40MjctMS4yMzctMi40ODUtMS4yMzctMS4xMjIgMC0xLjk3LjQ0My0yLjU0MSAxLjMzVjcuNDA5SDYwLjY0djEyLjI5N2gyLjQ0NXYtLjk5NWMuNTk4Ljc2NCAxLjQyNCAxLjE0NiAyLjQ3NyAxLjE0NiAxLjA2MyAwIDEuOTA0LS40MDYgMi41Mi0xLjIyLjYxOC0uODExLjkyNy0xLjk1Ny45MjctMy40MzggMC0xLjQzNy0uMy0yLjU3LS44OTgtMy4zOTVNODkuNTEgMTAuNTc0Yy0uNTU2IDAtMS4wNy4xNTQtMS41NDMuNDYxYTMuMzYgMy4zNiAwIDAgMC0xLjEyNiAxLjIxNHYtMS41MDdoLTIuMzMzdjguOTYyaDIuNDQ1di00LjU2MWMwLS43MjEuMjE4LTEuMjgyLjY1My0xLjY4My40MzYtLjQwMSAxLjA0NC0uNjAxIDEuODI0LS42MDEuMjgzIDAgLjUyNC4wMjcuNzIyLjA4bC4xODQtMi4yOTNhMy45NTYgMy45NTYgMCAwIDAtLjgyNi0uMDcyTTQwLjM5MyAxNi4yOWMwIC41NC0uMTY5Ljk3My0uNTA5IDEuMjk4LS4zMzkuMzI3LS43OTIuNDktMS4zNTkuNDktLjc5IDAtMS4xODYtLjM0NS0xLjE4Ni0xLjAzNSAwLS40ODEuMTc0LS44MzguNTIxLTEuMDc0LjM0Ny0uMjM1Ljg3Ni0uMzYzIDEuNTg3LS4zODVsLjk0Ni0uMDMydi43Mzh6bTEuNDY3LTQuOTQ2Yy0uNjQtLjUyNC0xLjU2My0uNzg2LTIuNzY1LS43ODYtMS4yNTYgMC0yLjQuMjctMy40My44MWwuODA4IDEuNjVjLjk2Ny0uNDMyIDEuODEtLjY0OCAyLjUyNS0uNjQ4LjkzIDAgMS4zOTUuNDU0IDEuMzk1IDEuMzYydi4zOTNsLTEuNTU1LjA0OGMtMS4zNC4wNDktMi4zNDUuMjk5LTMuMDEuNzUtLjY2NS40NS0uOTk4IDEuMTUzLS45OTggMi4xMDQgMCAuOTA5LjI0NyAxLjYwOS43NDEgMi4xLjQ5NC40OTMgMS4xNzIuNzM4IDIuMDMyLjczOC43MDEgMCAxLjI2OC0uMSAxLjcwNC0uMzAxLjQzNi0uMi44Ni0uNTYgMS4yNzEtMS4wNzh2MS4yMTloMi4yNDR2LTUuOTczYzAtMS4wNjgtLjMyLTEuODY0LS45NjItMi4zODh6TTMzLjM4IDEwLjU3NGMtLjU1NiAwLTEuMDcuMTU0LTEuNTQzLjQ2MWEzLjM2IDMuMzYgMCAwIDAtMS4xMjYgMS4yMTR2LTEuNTA3aC0yLjMzM3Y4Ljk2MmgyLjQ0NXYtNC41NjFjMC0uNzIxLjIxOC0xLjI4Mi42NTMtMS42ODMuNDM2LS40MDEgMS4wNDQtLjYwMSAxLjgyNC0uNjAxLjI4MyAwIC41MjQuMDI3LjcyMi4wOGwuMTg0LTIuMjkzYTMuOTU2IDMuOTU2IDAgMCAwLS44MjYtLjA3Mk05LjIyIDBjLS42NC45MDItMS43NyAxLjc0My0zLjM4OCAxLjc0MyAwIDQuNDUzIDMuMzg4IDYuMTYzIDMuMzg4IDYuMTYzczMuMzg4LTEuNzEgMy4zODgtNi4xNjNDMTAuOTg4IDEuNzQzIDkuODYuOTAzIDkuMjIgMCIgbWFzaz0idXJsKCNiKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiMwOUYiIGQ9Ik0xNC41ODUgMS43NDNhMTAuMSAxMC4xIDAgMCAxLS4zMDIgMi40OUg5My41MXYyMS4xNzRIMi40OVY0LjIzM2gxLjY2NWExMC4xNSAxMC4xNSAwIDAgMS0uMy0yLjQ5SC4wMDJ2MjYuMTU0aDk2VjEuNzQzSDE0LjU4NXoiIG1hc2s9InVybCgjYikiLz4KICAgIDwvZz4KPC9zdmc+Cg==" alt="jscrambler logo" /></a><a id="solutions" href="https://jscrambler.com/solutions" class="navLink--27bCm hasSubMenu--1Djg1">Solutions</a><a id="products" href="https://jscrambler.com/products" class="navLink--27bCm hasSubMenu--1Djg1 blueArrow--3G9WW">Products</a><a id="resources" href="https://jscrambler.com/resources" class="navLink--27bCm hasSubMenu--1Djg1">Resources</a><a id="partners" href="https://jscrambler.com/partners" class="navLink--27bCm">Partners</a><a class="navLink--27bCm" rel="noopener noreferrer" href="https://docs.jscrambler.com" action="Click">Docs</a></div><div class="rightMenu--1onFV"><div class="blogCallToAction--2zz3q"><a class="button--1OY1g blue--dhrd6 transparent--bafuT enabled--3BoEB navbar--L-044" type="button" href="https://jscrambler.com/signup" target="_blank" rel="noopener noreferrer"><div>Try Jscrambler for Free</div><div class="Ripple--TjHM0" style="top:0px;left:0px;width:0px;height:0px"></div></a></div><a href="#" class="hamburgerButton--17VAz"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDIyIDE4Ij4KICAgIDxnIGZpbGw9IiMwOUYiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjIyIiBoZWlnaHQ9IjIiIHJ4PSIxIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjIyIiBoZWlnaHQ9IjIiIHk9IjgiIHJ4PSIxIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjIyIiBoZWlnaHQ9IjIiIHk9IjE2IiByeD0iMSIvPgogICAgPC9nPgo8L3N2Zz4K" alt="open side menu" /></a></div></div></nav></div></div><div class="layout--3cBof withSticky--1Afcz"><div><div><div><div class="popUp"><script src="https://jscrambler91850.activehosted.com/f/embed.php?id=1" type="text/javascript" charset="utf-8"></script></div><div class="bar--1RiUP stickToTop--3FrYB navbarScrollDown--1ILHo"><a class="navLink--9wrXi hoverAnimation--12QaP homeLink--3yQTg" href="https://blog.jscrambler.com">Blog</a><a href="https://blog.jscrambler.com/tag/javascript" class="navLink--9wrXi hoverAnimation--12QaP">JavaScript</a><a href="https://blog.jscrambler.com/tag/tutorials" class="navLink--9wrXi hoverAnimation--12QaP">Code Protection</a><a href="https://blog.jscrambler.com/tag/application-security" class="navLink--9wrXi hoverAnimation--12QaP">Security</a><a href="https://blog.jscrambler.com/tag/react" class="navLink--9wrXi hoverAnimation--12QaP">React</a><a href="https://blog.jscrambler.com/tag/react-native" class="navLink--9wrXi hoverAnimation--12QaP">React Native</a><a href="https://blog.jscrambler.com/tag/angular" class="navLink--9wrXi hoverAnimation--12QaP">Angular</a><a href="https://blog.jscrambler.com/tag/vue-js" class="navLink--9wrXi hoverAnimation--12QaP">Vue</a></div><div><div class="content"><a class="link--2fQrx back--1zfmu back--10dtW"><div>Back to Blog</div><i class="fa fa-angle-left arrow--3jba9" aria-hidden="true"></i></a></div><section class="wrapper--39b5o"><div><div class="header--1o1vd"><span class="normal--1221d date--2kWIK">February 25, 2021</span><h1 class="h1--2sOX7 title--P7-BL">How to use React Native Geolocation to get Postal Address</h1><h6 class="h6--3dqPZ info--9Z_EK">By <a href="/author/aman-mittal">Aman Mittal</a> | <!-- -->8 min read</h6></div></div><div class="wrapper--3lIhp"><article id="article" class="postContent--1C-oM"><p><img src="https://blog.jscrambler.com/content/images/2021/02/jscrambler-blog-how-to-create-a-react-native-geolocation-app.jpg" alt="jscrambler-blog-how-to-create-a-react-native-geolocation-app"></p>
<p>Geolocation in React Native applications is the ability to fetch the geographic position of the device when it is connected to the internet. It takes advantage of an API that provides the current location of the device in the form of Longitude and Latitude coordinates. It can be used to add features such as fetching simple location coordinates of a device or getting the current location of the device. Ultimately, Geolocation provides support to the development functionalities seen in delivery or ride-hailing applications.</p>
<p>In this tutorial, let's learn how you can implement a feature to get the current location of a device in a React Native app. To do this we’ll be using an API provided by Expo in the form of a package called <code>expo-location</code>. We will then convert the location coordinates into human-readable postal address format.</p>
<p>The source code is available at this <a href="https://github.com/amandeepmittal/react-native-examples/tree/master/expo-geolocation-example">GitHub repo</a>.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>To follow this tutorial, please make sure you are familiarized with JavaScript/ES6 and meet the following requirements in your local dev environment:</p>
<ul>
<li>Have <a href="https://nodejs.org/">Node.js</a> version &gt;= <code>12.x.x</code> installed.</li>
<li>Have access to one package manager such as npm or yarn or npx.</li>
<li>Have <a href="https://github.com/expo/expo-cli">expo-cli</a> installed, or use npx</li>
</ul>
<h2 id="createareactnativeappwithexpocli">Create a React Native app with expo-cli</h2>
<p>Create a new React Native project using <code>expo-cli</code> and then install the dependencies required to build this demo app. Let's breakdown what we are going to implement:</p>
<ul>
<li>The demo app is going to mimic a food delivery app feature where when an end-user opens the app, the first thing they are prompted for is to fetch their current location. Let's call this screen a Welcome screen.</li>
<li>Only once the location is fetched, will the end-user be taken to the Home screen of the app. This is a condition we are going to put in our demo.</li>
<li>We will be using a stack navigator from <a href="https://reactnavigation.org/docs/getting-started">React Navigation</a> library. This is just an example to understand the concepts of using Geolocation data in a React Native app. You can use the same concepts in the way you want to implement the feature of fetching the current location.</li>
</ul>
<p>Open a terminal window and execute the following commands:</p>
<pre><code class="language-shell">npx expo init expo-geolocation-example

# navigate into that directory
cd expo-geolocation-example
yarn add @react-navigation/native @react-navigation/stack

# install dependencies with Expo specific package version
expo install expo-location react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view
</code></pre>
<p>After installing these dependencies, let's create two mock screens that are going to be the two core screens for the demo app. Create a new <code>screens/</code> directory and inside it, create the first screen file <code>Welcome.js</code>. This screen is going to display an image, a title, and a dummy mock location address for now. Later in this post, this dummy mock location address is going to display a real address based on the current location.</p>
<p>Add the following code snippet to this file:</p>
<pre><code class="language-js">import React, { useState, useEffect } from 'react';
import { StyleSheet, Text, View, Image } from 'react-native';

const Welcome = ({ navigation }) =&gt; {
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.contentContainer}&gt;
        &lt;Image source={require('../assets/geo.png')} style={styles.image} /&gt;
        &lt;Text style={styles.title}&gt;What's your address?&lt;/Text&gt;
      &lt;/View&gt;
      &lt;Text style={styles.text}&gt;Mock Address&lt;/Text&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#070707',
    alignItems: 'center',
    paddingTop: 130
  },
  contentContainer: {
    alignItems: 'center',
    marginBottom: 20
  },
  image: {
    width: 150,
    height: 150,
    resizeMode: 'contain',
    marginBottom: 20
  },
  title: {
    fontSize: 22,
    fontWeight: '700',
    color: '#FD0139'
  },
  text: {
    fontSize: 20,
    fontWeight: '400',
    color: '#fff'
  }
});

export default Welcome;
</code></pre>
<p>Create the second screen file <code>Home.js</code> with the following code snippet:</p>
<pre><code class="language-js">import React from 'react';
import { StyleSheet, Text, View } from 'react-native';

const Home = ({ navigation }) =&gt; {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text&gt;Home&lt;/Text&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#070707',
    alignItems: 'center',
    justifyContent: 'center'
  }
});

export default Home;
</code></pre>
<p>Let's hook up the stack navigation container in the <code>App.js</code> file since we do not have multiple files and different ways to navigate in this demo app. I am not going through how to set up and use the React Navigation library. If you'd like to learn more on that subject please go through the post <a href="/how-to-set-up-and-use-navigators-in-react-native/">How to Set Up and Use Navigators in React Native</a>.</p>
<p>Open up the <code>App.js</code> file and add the following:</p>
<pre><code class="language-js">import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';

// Custom screens
import Welcome from './screens/Welcome';
import Home from './screens/Home';

const Stack = createStackNavigator();

export default function App() {
  return (
    &lt;NavigationContainer&gt;
      &lt;Stack.Navigator initialRouteName='Welcome' headerMode='none'&gt;
        &lt;Stack.Screen name='Welcome' component={Welcome} /&gt;
        &lt;Stack.Screen name='Home' component={Home} /&gt;
      &lt;/Stack.Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
}
</code></pre>
<p>Once the navigator is set, you can open up a terminal window and run the command <code>expo start</code>. You can either choose an iOS simulator or an Android emulator or the Expo Go client app to view the results so far. Here is current the state of the demo app in an iOS simulator:</p>
<center><img src="https://blog.jscrambler.com/content/images/2021/02/l0cuYI1.png" alt="first"></center>
<h2 id="checkifthedeviceslocationserviceenabled">Check if the device's location service enabled</h2>
<p>The first thing in the demo app we are going to implement is to check whether a device's location services are enabled or not. For this, let's create a state variable called <code>locationServiceEnabled</code>.</p>
<p>To check the status of the service let's create a new handler method called <code>CheckIfLocationEnabled</code>. The <code>expo-location</code> has an asynchronous method called <code>Location.hasServicesEnabledAsync()</code>. It returns a boolean value of true if the location service on the device is enabled and if otherwise, it returns false. In case of the value false, let's display an alert box indicating the same. If the location service is enabled, then update the value of the state variable using the <code>setLocationServiceEnabled</code> method.</p>
<p>The handler method is then called inside a <code>useEffect</code> React hook with no dependency such that it triggers only after the first render.</p>
<p>Modify the <code>Welcome.js</code> screen as shown below. Do note the placeholder message displayed in the place of the mock location address using a state variable called <code>displayCurrentAddress</code>. It will get an update once the current location of the device is found.</p>
<pre><code class="language-js">import React, { useState, useEffect } from 'react';
import { StyleSheet, Text, View, Image, Alert } from 'react-native';
import * as Location from 'expo-location';

const Welcome = ({ navigation }) =&gt; {
  const [locationServiceEnabled, setLocationServiceEnabled] = useState(false);
  const [displayCurrentAddress, setDisplayCurrentAddress] = useState(
    'Wait, we are fetching you location...'
  );

  useEffect(() =&gt; {
    CheckIfLocationEnabled();
  }, []);

  const CheckIfLocationEnabled = async () =&gt; {
    let enabled = await Location.hasServicesEnabledAsync();

    if (!enabled) {
      Alert.alert(
        'Location Service not enabled',
        'Please enable your location services to continue',
        [{ text: 'OK' }],
        { cancelable: false }
      );
    } else {
      setLocationServiceEnabled(enabled);
    }
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.contentContainer}&gt;
        &lt;Image source={require('../assets/geo.png')} style={styles.image} /&gt;
        &lt;Text style={styles.title}&gt;What's your address?&lt;/Text&gt;
      &lt;/View&gt;
      &lt;Text style={styles.text}&gt;{displayCurrentAddress}&lt;/Text&gt;
    &lt;/View&gt;
  );
};

// styles remain same

export default Welcome;
</code></pre>
<p>To test it out in the iOS simulator, go to <strong>Settings &gt; Privacy &gt; Location Services</strong>.</p>
<center><img src="https://blog.jscrambler.com/content/images/2021/02/Q0yZjbv.png" alt="second"></center>
<p>If it says on, as shown in the above image, tap it and make sure to switch off the <strong>Location Services</strong>.</p>
<center><img src="https://blog.jscrambler.com/content/images/2021/02/ezgif.com-gif-maker.gif" alt="third"></center>
<p>Now open the app and you will notice that the alert box appears.</p>
<center><img src="https://blog.jscrambler.com/content/images/2021/02/ezgif.com-gif-maker--1-.gif" alt="fourth"></center>
<p>Similarly, on Android device, the location can be disabled from the following menu:</p>
<center><img src="https://blog.jscrambler.com/content/images/2021/02/TKFYDhq.png" alt="fifth"></center>
<p>And the alert message will appear on the opening of the app:</p>
<center><img src="https://blog.jscrambler.com/content/images/2021/02/Mk9egWP.png" alt="sixth"></center>
<p>Make sure to enable the location service again on the device before proceeding to the next section.</p>
<h2 id="getcurrentlocationandpostaladdress">Get current location and postal address</h2>
<p>It is necessary to request access to a device's information whether it is location or any other sensitive information. Fortunately, <code>expo-location</code> has methods that can be directly used when fetching the current location of the device.</p>
<p>Let's break down the steps on how we are going to fetch the current location of the device and obtain the information of the current address (which includes name, street name, city, and postal code) to display on the app screen.</p>
<ul>
<li>First, create a new asynchronous handler method called <code>GetCurrentLocation</code>. Make sure to call it inside the <code>useEffect</code> hook after the previous code.</li>
<li>Inside it, using the Location API method <code>requestPermissionsAsync</code>, ask the device's user to grant permission for the location. If, in any case, the user denies it, display them an alert box stating the same.</li>
<li>If the permission is granted, get the current coordinates of the device's location using the Location API method <code>getCurrentPositionAsync</code>. The coordinates here are an object representing the location.</li>
<li>Then, when the coordinates object is present, destructure the value of Latitude and Longitude. The Location API has a method called <code>reverseGeocodeAsync</code> which reverses the geocode of a location to a postal address. Using the result from this, we can update the value of <code>setDisplayCurrentAddress</code> to display the device's current address.</li>
</ul>
<p>Update the code snippet in <code>Welcome.js</code> as shown below:</p>
<pre><code class="language-js">// first update the useEffect hook
useEffect(() =&gt; {
  CheckIfLocationEnabled();
  GetCurrentLocation();
}, []);

// create the handler method

const GetCurrentLocation = async () =&gt; {
  let { status } = await Location.requestPermissionsAsync();

  if (status !== 'granted') {
    Alert.alert(
      'Permission not granted',
      'Allow the app to use location service.',
      [{ text: 'OK' }],
      { cancelable: false }
    );
  }

  let { coords } = await Location.getCurrentPositionAsync();

  if (coords) {
    const { latitude, longitude } = coords;
    let response = await Location.reverseGeocodeAsync({
      latitude,
      longitude
    });

    for (let item of response) {
      let address = `${item.name}, ${item.street}, ${item.postalCode}, ${item.city}`;

      setDisplayCurrentAddress(address);
    }
  }
};
</code></pre>
<p>Here is the output after this step:</p>
<center><img src="https://blog.jscrambler.com/content/images/2021/02/ezgif.com-gif-maker--2-.gif" alt="seventh"></center>
<p>The complete postal address is an object in JSON format and has the following fields (some of them might be useful for various cases):</p>
<pre><code class="language-json">Object {
    &quot;city&quot;: &quot;Stockholm&quot;,
    &quot;country&quot;: &quot;Sweden&quot;,
    &quot;district&quot;: &quot;Stockholm City&quot;,
    &quot;isoCountryCode&quot;: &quot;SE&quot;,
    &quot;name&quot;: &quot;Gustav Adolfs torg&quot;,
    &quot;postalCode&quot;: &quot;111 52&quot;,
    &quot;region&quot;: &quot;Stockholm&quot;,
    &quot;street&quot;: &quot;Gustav Adolfs torg&quot;,
    &quot;subregion&quot;: &quot;Stockholm&quot;,
    &quot;timezone&quot;: &quot;Europe/Stockholm&quot;,
}
</code></pre>
<p>Once the location is fetched, we can send the current postal address as an object and navigate to the Home screen after a delay of two seconds using a <code>setTimeout</code> function.</p>
<p>Add the following code snippet after the statement <code>setDisplayCurrentAddress(address)</code>:</p>
<pre><code class="language-js">if (address.length &gt; 0) {
  setTimeout(() =&gt; {
    navigation.navigate('Home', { item: address });
  }, 2000);
}
</code></pre>
<p>Then, update the <code>Home.js</code> file to get the <code>item</code> object from <code>route.params</code> as well as its styles:</p>
<pre><code class="language-js">import React from 'react';
import { StyleSheet, Text, View } from 'react-native';

const Home = ({ route }) =&gt; {
  const { item } = route.params;
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.contentContainer}&gt;
        &lt;Text style={styles.title}&gt;Home Delivery address: &lt;/Text&gt;
        &lt;Text style={styles.text}&gt;{item}&lt;/Text&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#070707',
    alignItems: 'center',
    justifyContent: 'center'
  },
  contentContainer: {
    paddingHorizontal: 20,
    alignItems: 'center'
  },
  title: {
    fontSize: 22,
    fontWeight: '700',
    color: '#FD0139',
    paddingBottom: 10
  },
  text: {
    fontSize: 20,
    fontWeight: '400',
    color: '#fff'
  }
});

export default Home;
</code></pre>
<p>Here is the final output:</p>
<center><img src="https://blog.jscrambler.com/content/images/2021/02/ezgif.com-gif-maker--3-.gif" alt="eight"></center>
<h2 id="conclusion">Conclusion</h2>
<p>That's it! We hope you have found this tutorial helpful. We are adding some references for you to learn more about using Location API in Expo and React Native apps, plus which different packages can be used for your particular use case:</p>
<ul>
<li><a href="https://docs.expo.io/versions/latest/sdk/location/#locationreversegeocodeasynclocation">Reverse Geocode from expo-location</a></li>
<li><a href="https://github.com/react-native-geolocation/react-native-geolocation#README.md">@react-native-community/geolocation</a></li>
<li><a href="https://github.com/Agontuk/react-native-geolocation-service">react-native-geolocation-service</a></li>
</ul>
<p>Finally, don't forget to pay special attention if you're developing commercial React Native apps that contain sensitive logic. You can protect them against code theft, tampering, and reverse engineering by following <a href="/how-to-protect-react-native-apps-with-jscrambler/">this guide</a>.</p>
</article></div><div class="tags--2qzjJ"><span class="normal--1221d">Tags: </span><span class="normal--1221d"><a href="/tag/react-native">React Native</a>, </span><span class="normal--1221d"><a href="/tag/mobile">Mobile</a>, </span><span class="normal--1221d"><a href="/tag/javascript">JavaScript</a></span></div></section></div><section class="default--1OfeT section--1cghl" style="background-size:cover"><div><div class="content author--1nCv8"><img class="profilePic--NnKCB" src="https://blog.jscrambler.com/content/images/2020/07/aman-mittal-bio-photo.jpg" alt="Author" /><div class="info--17hj9"><span class="normal--1221d name--1WTjK">Aman Mittal</span><span class="normal--1221d bio--2Er2X">I&#x27;m Aman who works as an independent developer with technologies such as Node.js, Reactjs and React Native. I try to document and write tutorials to help JavaScript Web and Mobile developers.</span><a class="button--1OY1g blue--dhrd6 enabled--3BoEB button--39lEq" type="button" href="https://blog.jscrambler.com/author/aman-mittal"><div>View All Posts</div><div class="Ripple--TjHM0" style="top:0px;left:0px;width:0px;height:0px"></div></a><div class="socialMedia--1KHiH"><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/@amanhimself" class="twitter--3EVv-"><i class="fa fa-twitter"></i></a></div></div></div></div></section><section class="default--1OfeT section--2Gi8L" style="background-size:cover"><div><div class="content recommendedPosts--1GLz6"><h4 class="h4--QYlq5 title--2e1eE">Must read next</h4><div><div class="wrapper---qOrZ"><div class="wrapper--13EDG twoPerRow--2ETE6"><a class="postTile--2ufZQ" href="https://blog.jscrambler.com/how-to-add-a-splash-screen-and-app-icon-in-react-native/" action="Click"><div id="93451d42-7fad-4476-b78b-741490cc5d83"><div class="postImage--tb-3h"><img src="https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-how-to-add-splash-screen-and-app-icon-thumbnail.jpg" alt="post" /></div><div class="postInfo--uSP3X"><h4 class="h4--QYlq5 title--eBSXA">How to add a Splash Screen and an App Icon in React Native</h4><span class="small--AllF_ info--Bvely">By <!-- -->Aman Mittal<!-- --> | <!-- -->10 min read</span><span class="small--AllF_ description--3SQB4">In this tutorial, let&#x27;s learn how to display a splash screen when an app starts and also how to add app icons in a React Native app.</span></div></div></a></div><div class="wrapper--13EDG twoPerRow--2ETE6"><a class="postTile--2ufZQ" href="https://blog.jscrambler.com/how-to-integrate-firebase-authentication-with-an-expo-app/" action="Click"><div id="d704e349-4842-4a71-bbc1-8d59508ff98a"><div class="postImage--tb-3h"><img src="https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-integrate-firebase-authentication-with-expo-app-2.jpg" alt="post" /></div><div class="postInfo--uSP3X"><h4 class="h4--QYlq5 title--eBSXA">How To Integrate Firebase Authentication With an Expo App</h4><span class="small--AllF_ info--Bvely">By <!-- -->Aman Mittal<!-- --> | <!-- -->14 min read</span><span class="small--AllF_ description--3SQB4">In this tutorial, let&#x27;s take a look at how as a mobile developer building applications using Expo SDK, you can integrate and use Firebase Authentication. </span></div></div></a></div></div></div></div></div></section><div id="subscribe"><section class="default--1OfeT blog--1VFzz default--1GPIL" style="background-size:cover"><div><div class="content content--3RlrM"><h2 class="h2--3-Gq1">Subscribe to our weekly newsletter</h2><h4 class="h4--QYlq5">Learn more about new security threats and technologies.</h4><div class="formWrapper--3PI7T"><form><div class="inputWrapper--ccjXl wrapper--3N8KA"><input type="email" class="input--1bOX7 boxInputSignIn--2CDmF boxInput--y424A" maxLength="" placeholder="Your Email" value="" /></div><button class="button--1OY1g blue--dhrd6 enabled--3BoEB" type="submit"><div>Subscribe</div><div class="Ripple--TjHM0" style="top:0px;left:0px;width:0px;height:0px"></div></button></form><div class="contactCheck--CwmdH"><input type="checkbox" value="contact" /><span></span><span class="normal--1221d">I agree to receive these emails and accept the <a target="blank" href="https://docs.jscrambler.com/privacy-and-security/terms-of-service">Privacy Policy</a>.</span></div></div></div></div></section></div></div></div></div><div><footer class="content"><div class="wrapper--3DcMj"><div class="column---GEgt"><nav class="navigation--2Vwo8"><h6 class="h6--3dqPZ"><a href="https://jscrambler.com/about" action="Click">About Us</a></h6><h6 class="h6--3dqPZ"><a href="https://jscrambler.com/contact" action="Click">Contact Us</a></h6><h6 class="h6--3dqPZ"><a href="https://jscrambler.com/careers" action="Click">Careers</a></h6></nav><nav class="navigation--2Vwo8"><h6 class="h6--3dqPZ"><a rel="noopener noreferrer" href="https://blog.jscrambler.com" action="Click">Blog</a></h6><h6 class="h6--3dqPZ"><a href="https://jscrambler.com/press" action="Click">Press</a></h6><h6 class="h6--3dqPZ"><a href="https://jscrambler.com/events" action="Click">Events</a></h6></nav><nav class="navigation--2Vwo8"><h6 class="h6--3dqPZ"><a rel="noopener noreferrer" href="https://docs.jscrambler.com" action="Click">Help Center</a></h6><h6 class="h6--3dqPZ"><a href="https://docs.jscrambler.com/privacy-and-security" action="Click">Privacy &amp; Security</a></h6><h6 class="h6--3dqPZ"><a href="https://jscrambler.com/changelog" action="Click">Changelog</a></h6></nav></div><div><div class="socialNetworks--2wUXj"><a rel="noopener noreferrer" target="_blank" class="buttonHighlight--2ekeN" href="https://www.facebook.com/Jscrambler.AppSec" action="Click"><i class="fa fa-facebook"></i></a><a rel="noopener noreferrer" target="_blank" class="buttonHighlight--2ekeN" href="https://twitter.com/jscrambler" action="Click"><i class="fa fa-twitter"></i></a><a rel="noopener noreferrer" target="_blank" class="buttonHighlight--2ekeN" href="https://www.linkedin.com/company/jscrambler" action="Click"><i class="fa fa-linkedin"></i></a></div></div></div><div class="copyright--3pBgh">Copyright © <b>Jscrambler</b> <!-- -->2022<!-- --> <i>All Rights Reserved</i></div></footer><div class="wrapper--1NzzI"><div class="icons--mlc0u"><span class="normal--1221d text--wOn1q">Projeto Co-Financiado por (<a class="moreInfo--2EsPa" href="https://jscrambler.com/p2020" action="Click">Mais info</a>)</span><img src="/5617f2e831e43aa0d992fc425682054a.png" class="icon--1M7Qh" /></div></div></div><div><div></div></div></div></div><div class="sideMenu--2H30V"><div class="content--3g06g"><div class="topSection--1uk5Z"><div class="icon--2dpI_"><i class="fa fa-times closeSideMenu--3vnlU" aria-hidden="true"></i></div><div class="topSectionLinks--g3jC0"><div class="section--1UJQo"><div class="expandableLink--2V04z"><a class="mainLink--1S6pj" href="https://jscrambler.com/solutions" action="Click">Solutions</a><i class="fa fa-chevron-down arrow--2sPvF"></i></div><div class="sectionWrapper--2p7Bm collapsed--11Y86"><div class="group--2ve4K"><div class="expandableLink--2V04z"><a class="link--2R0r8" href="https://jscrambler.com/solutions" action="Click">By Need</a><i class="fa fa-plus plus--BT-n5"></i></div><div class="groupWrapper--2Zddp collapsed--11Y86"><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/javascript-protection" action="Click">JavaScript Protection</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/magecart-mitigation" action="Click">Magecart Mitigation</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/mobile-app-protection" action="Click">Mobile App Protection</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/data-leakage-prevention" action="Click">Data Leakage Prevention</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/third-party-control" action="Click">Third Party Control</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/customer-hijacking-prevention" action="Click">Customer Hijacking Prevention</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/user-data-protection-compliance" action="Click">User Data Protection &amp; Compliance</a></div></div></div><div class="group--2ve4K"><div class="expandableLink--2V04z"><a class="link--2R0r8" href="https://jscrambler.com/solutions" action="Click">By Sector</a><i class="fa fa-plus plus--BT-n5"></i></div><div class="groupWrapper--2Zddp collapsed--11Y86"><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/financial-services" action="Click">Financial Services</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/it-software" action="Click">IT &amp; Software</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/ecommerce" action="Click">E-Commerce</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/healthcare" action="Click">Healthcare</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/media-ott" action="Click">Media &amp; OTT</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/solutions/gaming-gambling" action="Click">Gaming &amp; Gambling</a></div></div></div></div></div><div class="section--1UJQo"><div class="expandableLink--2V04z"><a class="mainLink--1S6pj" href="https://jscrambler.com/products" action="Click">Products</a><i class="fa fa-chevron-down arrow--2sPvF"></i></div><div class="sectionWrapper--2p7Bm collapsed--11Y86"><div class="group--2ve4K"><div class="expandableLink--2V04z"><a class="link--2R0r8" href="https://jscrambler.com/code-integrity" action="Click">Code Integrity</a><i class="fa fa-plus plus--BT-n5"></i></div><div class="groupWrapper--2Zddp collapsed--11Y86"><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/products/application-shielding" action="Click">Application Shielding</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/products/runtime-protection" action="Click">Runtime Protection</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/products/javascript-threat-monitoring" action="Click">JavaScript Threat Monitoring</a></div></div></div><div class="group--2ve4K"><div class="expandableLink--2V04z"><a class="link--2R0r8" href="https://jscrambler.com/webpage-integrity" action="Click">Webpage Integrity</a><i class="fa fa-plus plus--BT-n5"></i></div><div class="groupWrapper--2Zddp collapsed--11Y86"><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/products/webpage-inventory" action="Click">Webpage Inventory</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/products/third-party-management" action="Click">Third Party Management</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/products/user-data-management" action="Click">User Data Management</a></div><div class="subLinkWrapper--3jLbE"><a class="subLink--1EUgc" href="https://jscrambler.com/products/webpage-threat-mitigation" action="Click">Webpage Threat Mitigation</a></div></div></div></div></div><div class="baseLink--3gSJX"><a class="mainLink--1S6pj" href="https://jscrambler.com/resources" action="Click">Resources</a></div><div class="baseLink--3gSJX"><a class="mainLink--1S6pj" href="https://jscrambler.com/partners" action="Click">Partners</a></div><div class="baseLink--3gSJX"><a class="mainLink--1S6pj" rel="noopener noreferrer" href="https://docs.jscrambler.com" action="Click">Docs</a></div><div class="baseLink--3gSJX"><a class="mainLink--1S6pj" rel="noopener noreferrer" href="/" action="Click">Blog</a></div><a target="_blank" rel="noopener noreferrer" class="link--2R0r8 tryFreeLink--17gTr" href="https://jscrambler.com/signup" action="Click">Try Jscrambler for Free</a></div></div><div class="bottomSectionLinks--4BnK9"></div></div></div></div></div>
<script>
          window.__INITIAL_STATE__ = {"posts":[],"meta":{"pagination":{"page":null,"limit":null,"pages":null,"total":null,"next":null,"prev":null}},"featuredPost":{},"post":{"slug":"how-to-use-react-native-geolocation-to-get-postal-address","id":"60377418bae0a40001bccebc","uuid":"f99b618b-7fcd-48c8-b381-439adf3e1238","title":"How to use React Native Geolocation to get Postal Address","html":"<\!--kg-card-begin: markdown--><p><img src=\"https://blog.jscrambler.com/content/images/2021/02/jscrambler-blog-how-to-create-a-react-native-geolocation-app.jpg\" alt=\"jscrambler-blog-how-to-create-a-react-native-geolocation-app\"></p>\n<p>Geolocation in React Native applications is the ability to fetch the geographic position of the device when it is connected to the internet. It takes advantage of an API that provides the current location of the device in the form of Longitude and Latitude coordinates. It can be used to add features such as fetching simple location coordinates of a device or getting the current location of the device. Ultimately, Geolocation provides support to the development functionalities seen in delivery or ride-hailing applications.</p>\n<p>In this tutorial, let's learn how you can implement a feature to get the current location of a device in a React Native app. To do this we’ll be using an API provided by Expo in the form of a package called <code>expo-location</code>. We will then convert the location coordinates into human-readable postal address format.</p>\n<p>The source code is available at this <a href=\"https://github.com/amandeepmittal/react-native-examples/tree/master/expo-geolocation-example\">GitHub repo</a>.</p>\n<h2 id=\"prerequisites\">Prerequisites</h2>\n<p>To follow this tutorial, please make sure you are familiarized with JavaScript/ES6 and meet the following requirements in your local dev environment:</p>\n<ul>\n<li>Have <a href=\"https://nodejs.org/\">Node.js</a> version &gt;= <code>12.x.x</code> installed.</li>\n<li>Have access to one package manager such as npm or yarn or npx.</li>\n<li>Have <a href=\"https://github.com/expo/expo-cli\">expo-cli</a> installed, or use npx</li>\n</ul>\n<h2 id=\"createareactnativeappwithexpocli\">Create a React Native app with expo-cli</h2>\n<p>Create a new React Native project using <code>expo-cli</code> and then install the dependencies required to build this demo app. Let's breakdown what we are going to implement:</p>\n<ul>\n<li>The demo app is going to mimic a food delivery app feature where when an end-user opens the app, the first thing they are prompted for is to fetch their current location. Let's call this screen a Welcome screen.</li>\n<li>Only once the location is fetched, will the end-user be taken to the Home screen of the app. This is a condition we are going to put in our demo.</li>\n<li>We will be using a stack navigator from <a href=\"https://reactnavigation.org/docs/getting-started\">React Navigation</a> library. This is just an example to understand the concepts of using Geolocation data in a React Native app. You can use the same concepts in the way you want to implement the feature of fetching the current location.</li>\n</ul>\n<p>Open a terminal window and execute the following commands:</p>\n<pre><code class=\"language-shell\">npx expo init expo-geolocation-example\n\n# navigate into that directory\ncd expo-geolocation-example\nyarn add @react-navigation/native @react-navigation/stack\n\n# install dependencies with Expo specific package version\nexpo install expo-location react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view\n</code></pre>\n<p>After installing these dependencies, let's create two mock screens that are going to be the two core screens for the demo app. Create a new <code>screens/</code> directory and inside it, create the first screen file <code>Welcome.js</code>. This screen is going to display an image, a title, and a dummy mock location address for now. Later in this post, this dummy mock location address is going to display a real address based on the current location.</p>\n<p>Add the following code snippet to this file:</p>\n<pre><code class=\"language-js\">import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, Image } from 'react-native';\n\nconst Welcome = ({ navigation }) =&gt; {\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;View style={styles.contentContainer}&gt;\n        &lt;Image source={require('../assets/geo.png')} style={styles.image} /&gt;\n        &lt;Text style={styles.title}&gt;What's your address?&lt;/Text&gt;\n      &lt;/View&gt;\n      &lt;Text style={styles.text}&gt;Mock Address&lt;/Text&gt;\n    &lt;/View&gt;\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#070707',\n    alignItems: 'center',\n    paddingTop: 130\n  },\n  contentContainer: {\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  image: {\n    width: 150,\n    height: 150,\n    resizeMode: 'contain',\n    marginBottom: 20\n  },\n  title: {\n    fontSize: 22,\n    fontWeight: '700',\n    color: '#FD0139'\n  },\n  text: {\n    fontSize: 20,\n    fontWeight: '400',\n    color: '#fff'\n  }\n});\n\nexport default Welcome;\n</code></pre>\n<p>Create the second screen file <code>Home.js</code> with the following code snippet:</p>\n<pre><code class=\"language-js\">import React from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\n\nconst Home = ({ navigation }) =&gt; {\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;Text&gt;Home&lt;/Text&gt;\n    &lt;/View&gt;\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#070707',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\n\nexport default Home;\n</code></pre>\n<p>Let's hook up the stack navigation container in the <code>App.js</code> file since we do not have multiple files and different ways to navigate in this demo app. I am not going through how to set up and use the React Navigation library. If you'd like to learn more on that subject please go through the post <a href=\"/how-to-set-up-and-use-navigators-in-react-native/\">How to Set Up and Use Navigators in React Native</a>.</p>\n<p>Open up the <code>App.js</code> file and add the following:</p>\n<pre><code class=\"language-js\">import React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\n\n// Custom screens\nimport Welcome from './screens/Welcome';\nimport Home from './screens/Home';\n\nconst Stack = createStackNavigator();\n\nexport default function App() {\n  return (\n    &lt;NavigationContainer&gt;\n      &lt;Stack.Navigator initialRouteName='Welcome' headerMode='none'&gt;\n        &lt;Stack.Screen name='Welcome' component={Welcome} /&gt;\n        &lt;Stack.Screen name='Home' component={Home} /&gt;\n      &lt;/Stack.Navigator&gt;\n    &lt;/NavigationContainer&gt;\n  );\n}\n</code></pre>\n<p>Once the navigator is set, you can open up a terminal window and run the command <code>expo start</code>. You can either choose an iOS simulator or an Android emulator or the Expo Go client app to view the results so far. Here is current the state of the demo app in an iOS simulator:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/02/l0cuYI1.png\" alt=\"first\"></center>\n<h2 id=\"checkifthedeviceslocationserviceenabled\">Check if the device's location service enabled</h2>\n<p>The first thing in the demo app we are going to implement is to check whether a device's location services are enabled or not. For this, let's create a state variable called <code>locationServiceEnabled</code>.</p>\n<p>To check the status of the service let's create a new handler method called <code>CheckIfLocationEnabled</code>. The <code>expo-location</code> has an asynchronous method called <code>Location.hasServicesEnabledAsync()</code>. It returns a boolean value of true if the location service on the device is enabled and if otherwise, it returns false. In case of the value false, let's display an alert box indicating the same. If the location service is enabled, then update the value of the state variable using the <code>setLocationServiceEnabled</code> method.</p>\n<p>The handler method is then called inside a <code>useEffect</code> React hook with no dependency such that it triggers only after the first render.</p>\n<p>Modify the <code>Welcome.js</code> screen as shown below. Do note the placeholder message displayed in the place of the mock location address using a state variable called <code>displayCurrentAddress</code>. It will get an update once the current location of the device is found.</p>\n<pre><code class=\"language-js\">import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, Image, Alert } from 'react-native';\nimport * as Location from 'expo-location';\n\nconst Welcome = ({ navigation }) =&gt; {\n  const [locationServiceEnabled, setLocationServiceEnabled] = useState(false);\n  const [displayCurrentAddress, setDisplayCurrentAddress] = useState(\n    'Wait, we are fetching you location...'\n  );\n\n  useEffect(() =&gt; {\n    CheckIfLocationEnabled();\n  }, []);\n\n  const CheckIfLocationEnabled = async () =&gt; {\n    let enabled = await Location.hasServicesEnabledAsync();\n\n    if (!enabled) {\n      Alert.alert(\n        'Location Service not enabled',\n        'Please enable your location services to continue',\n        [{ text: 'OK' }],\n        { cancelable: false }\n      );\n    } else {\n      setLocationServiceEnabled(enabled);\n    }\n  };\n\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;View style={styles.contentContainer}&gt;\n        &lt;Image source={require('../assets/geo.png')} style={styles.image} /&gt;\n        &lt;Text style={styles.title}&gt;What's your address?&lt;/Text&gt;\n      &lt;/View&gt;\n      &lt;Text style={styles.text}&gt;{displayCurrentAddress}&lt;/Text&gt;\n    &lt;/View&gt;\n  );\n};\n\n// styles remain same\n\nexport default Welcome;\n</code></pre>\n<p>To test it out in the iOS simulator, go to <strong>Settings &gt; Privacy &gt; Location Services</strong>.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/02/Q0yZjbv.png\" alt=\"second\"></center>\n<p>If it says on, as shown in the above image, tap it and make sure to switch off the <strong>Location Services</strong>.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/02/ezgif.com-gif-maker.gif\" alt=\"third\"></center>\n<p>Now open the app and you will notice that the alert box appears.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/02/ezgif.com-gif-maker--1-.gif\" alt=\"fourth\"></center>\n<p>Similarly, on Android device, the location can be disabled from the following menu:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/02/TKFYDhq.png\" alt=\"fifth\"></center>\n<p>And the alert message will appear on the opening of the app:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/02/Mk9egWP.png\" alt=\"sixth\"></center>\n<p>Make sure to enable the location service again on the device before proceeding to the next section.</p>\n<h2 id=\"getcurrentlocationandpostaladdress\">Get current location and postal address</h2>\n<p>It is necessary to request access to a device's information whether it is location or any other sensitive information. Fortunately, <code>expo-location</code> has methods that can be directly used when fetching the current location of the device.</p>\n<p>Let's break down the steps on how we are going to fetch the current location of the device and obtain the information of the current address (which includes name, street name, city, and postal code) to display on the app screen.</p>\n<ul>\n<li>First, create a new asynchronous handler method called <code>GetCurrentLocation</code>. Make sure to call it inside the <code>useEffect</code> hook after the previous code.</li>\n<li>Inside it, using the Location API method <code>requestPermissionsAsync</code>, ask the device's user to grant permission for the location. If, in any case, the user denies it, display them an alert box stating the same.</li>\n<li>If the permission is granted, get the current coordinates of the device's location using the Location API method <code>getCurrentPositionAsync</code>. The coordinates here are an object representing the location.</li>\n<li>Then, when the coordinates object is present, destructure the value of Latitude and Longitude. The Location API has a method called <code>reverseGeocodeAsync</code> which reverses the geocode of a location to a postal address. Using the result from this, we can update the value of <code>setDisplayCurrentAddress</code> to display the device's current address.</li>\n</ul>\n<p>Update the code snippet in <code>Welcome.js</code> as shown below:</p>\n<pre><code class=\"language-js\">// first update the useEffect hook\nuseEffect(() =&gt; {\n  CheckIfLocationEnabled();\n  GetCurrentLocation();\n}, []);\n\n// create the handler method\n\nconst GetCurrentLocation = async () =&gt; {\n  let { status } = await Location.requestPermissionsAsync();\n\n  if (status !== 'granted') {\n    Alert.alert(\n      'Permission not granted',\n      'Allow the app to use location service.',\n      [{ text: 'OK' }],\n      { cancelable: false }\n    );\n  }\n\n  let { coords } = await Location.getCurrentPositionAsync();\n\n  if (coords) {\n    const { latitude, longitude } = coords;\n    let response = await Location.reverseGeocodeAsync({\n      latitude,\n      longitude\n    });\n\n    for (let item of response) {\n      let address = `${item.name}, ${item.street}, ${item.postalCode}, ${item.city}`;\n\n      setDisplayCurrentAddress(address);\n    }\n  }\n};\n</code></pre>\n<p>Here is the output after this step:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/02/ezgif.com-gif-maker--2-.gif\" alt=\"seventh\"></center>\n<p>The complete postal address is an object in JSON format and has the following fields (some of them might be useful for various cases):</p>\n<pre><code class=\"language-json\">Object {\n    &quot;city&quot;: &quot;Stockholm&quot;,\n    &quot;country&quot;: &quot;Sweden&quot;,\n    &quot;district&quot;: &quot;Stockholm City&quot;,\n    &quot;isoCountryCode&quot;: &quot;SE&quot;,\n    &quot;name&quot;: &quot;Gustav Adolfs torg&quot;,\n    &quot;postalCode&quot;: &quot;111 52&quot;,\n    &quot;region&quot;: &quot;Stockholm&quot;,\n    &quot;street&quot;: &quot;Gustav Adolfs torg&quot;,\n    &quot;subregion&quot;: &quot;Stockholm&quot;,\n    &quot;timezone&quot;: &quot;Europe/Stockholm&quot;,\n}\n</code></pre>\n<p>Once the location is fetched, we can send the current postal address as an object and navigate to the Home screen after a delay of two seconds using a <code>setTimeout</code> function.</p>\n<p>Add the following code snippet after the statement <code>setDisplayCurrentAddress(address)</code>:</p>\n<pre><code class=\"language-js\">if (address.length &gt; 0) {\n  setTimeout(() =&gt; {\n    navigation.navigate('Home', { item: address });\n  }, 2000);\n}\n</code></pre>\n<p>Then, update the <code>Home.js</code> file to get the <code>item</code> object from <code>route.params</code> as well as its styles:</p>\n<pre><code class=\"language-js\">import React from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\n\nconst Home = ({ route }) =&gt; {\n  const { item } = route.params;\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;View style={styles.contentContainer}&gt;\n        &lt;Text style={styles.title}&gt;Home Delivery address: &lt;/Text&gt;\n        &lt;Text style={styles.text}&gt;{item}&lt;/Text&gt;\n      &lt;/View&gt;\n    &lt;/View&gt;\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#070707',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  contentContainer: {\n    paddingHorizontal: 20,\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 22,\n    fontWeight: '700',\n    color: '#FD0139',\n    paddingBottom: 10\n  },\n  text: {\n    fontSize: 20,\n    fontWeight: '400',\n    color: '#fff'\n  }\n});\n\nexport default Home;\n</code></pre>\n<p>Here is the final output:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/02/ezgif.com-gif-maker--3-.gif\" alt=\"eight\"></center>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>That's it! We hope you have found this tutorial helpful. We are adding some references for you to learn more about using Location API in Expo and React Native apps, plus which different packages can be used for your particular use case:</p>\n<ul>\n<li><a href=\"https://docs.expo.io/versions/latest/sdk/location/#locationreversegeocodeasynclocation\">Reverse Geocode from expo-location</a></li>\n<li><a href=\"https://github.com/react-native-geolocation/react-native-geolocation#README.md\">@react-native-community/geolocation</a></li>\n<li><a href=\"https://github.com/Agontuk/react-native-geolocation-service\">react-native-geolocation-service</a></li>\n</ul>\n<p>Finally, don't forget to pay special attention if you're developing commercial React Native apps that contain sensitive logic. You can protect them against code theft, tampering, and reverse engineering by following <a href=\"/how-to-protect-react-native-apps-with-jscrambler/\">this guide</a>.</p>\n<\!--kg-card-end: markdown-->","comment_id":"60377418bae0a40001bccebc","feature_image":"https://blog.jscrambler.com/content/images/2021/02/jscrambler-blog-how-to-create-a-react-native-geolocation-app-thumbnail.jpg","featured":true,"meta_title":"How to use React Native Geolocation to get Postal Address","meta_description":"In this tutorial, let's learn how you can implement a feature to get the current location of a device in a React Native app. To do this we’ll be using an API provided by Expo.","created_at":"2021-02-25T09:55:36.000+00:00","updated_at":"2021-02-26T14:31:58.000+00:00","published_at":"2021-02-25T11:04:57.000+00:00","custom_excerpt":null,"codeinjection_head":null,"codeinjection_foot":null,"og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"custom_template":null,"canonical_url":"https://blog.jscrambler.com/how-to-use-react-native-geolocation-to-get-postal-address/","page":false,"authors":[{"id":"5cf63cbe2c4b7900014315fc","name":"Aman Mittal","slug":"aman-mittal","profile_image":"https://blog.jscrambler.com/content/images/2020/07/aman-mittal-bio-photo.jpg","cover_image":null,"bio":"I'm Aman who works as an independent developer with technologies such as Node.js, Reactjs and React Native. I try to document and write tutorials to help JavaScript Web and Mobile developers.","website":null,"location":null,"facebook":null,"twitter":"@amanhimself","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/author/aman-mittal/"}],"tags":[{"id":"5cf63cc12c4b7900014316bd","name":"React Native","slug":"react-native","description":null,"feature_image":null,"visibility":"public","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/tag/react-native/"},{"id":"5cf63cc12c4b790001431692","name":"Mobile","slug":"mobile","description":null,"feature_image":null,"visibility":"public","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/tag/mobile/"},{"id":"5cf63cc12c4b790001431645","name":"JavaScript","slug":"javascript","description":null,"feature_image":null,"visibility":"public","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/tag/javascript/"}],"primary_author":{"id":"5cf63cbe2c4b7900014315fc","name":"Aman Mittal","slug":"aman-mittal","profile_image":"https://blog.jscrambler.com/content/images/2020/07/aman-mittal-bio-photo.jpg","cover_image":null,"bio":"I'm Aman who works as an independent developer with technologies such as Node.js, Reactjs and React Native. I try to document and write tutorials to help JavaScript Web and Mobile developers.","website":null,"location":null,"facebook":null,"twitter":"@amanhimself","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/author/aman-mittal/"},"primary_tag":{"id":"5cf63cc12c4b7900014316bd","name":"React Native","slug":"react-native","description":null,"feature_image":null,"visibility":"public","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/tag/react-native/"},"url":"https://blog.jscrambler.com/how-to-use-react-native-geolocation-to-get-postal-address/","excerpt":"\n\nGeolocation in React Native applications is the ability to fetch the geographic\nposition of the device when it is connected to the internet. It takes advantage\nof an API that provides the current location of the device in the form of\nLongitude and Latitude coordinates. It can be used to add features such as\nfetching simple location coordinates of a device or getting the current location\nof the device. Ultimately, Geolocation provides support to the development\nfunctionalities seen in delivery ","reading_time":"8 min read"},"recommendedPosts":{"posts":[{"id":"61546e5540d337000138c397","uuid":"93451d42-7fad-4476-b78b-741490cc5d83","title":"How to add a Splash Screen and an App Icon in React Native","slug":"how-to-add-a-splash-screen-and-app-icon-in-react-native","html":"<\!--kg-card-begin: markdown--><p><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-how-to-add-splash-screen-and-app-icon.jpg\" alt=\"jscrambler-blog-how-to-add-splash-screen-and-app-icon\"></p>\n<p>Every mobile application has a splash screen and an app icon, and together they provide the first impression. An app icon is displayed in various places, such as on an app store, on the device's app drawer, etc., whereas a splash screen is shown during the app startup. Adding a splash screen or an app icon to a React Native app can be an agile process.</p>\n<p>In this tutorial, let's learn how to use an awesome package called <a href=\"https://github.com/zoontek/react-native-bootsplash\">react-native-bootsplash</a> to display a splash screen when an app starts and then learn the process of adding app icons in a React Native app.</p>\n<h2 id=\"prerequisites\">Prerequisites</h2>\n<p>To follow this tutorial, please make sure you have the following tools and utilities installed on your local development environment and have access to the services mentioned below:</p>\n<ul>\n<li><a href=\"https://nodejs.org/en/\">Node.js</a> version <code>12.x.x</code> or above installed</li>\n<li>Have access to one package manager such as npm or yarn or npx</li>\n<li><a href=\"https://www.npmjs.com/package/react-native-cli\">react-native-cli</a> installed, or use npx</li>\n</ul>\n<p>Note, the example app is created using React Native version <code>0.65.x</code>.</p>\n<p><a href=\"https://github.com/amandeepmittal/react-native-examples/tree/master/rnSplashAndIconExample\"><strong>Complete source code for this example is at this GitHub repo</strong></a></p>\n<h2 id=\"setupareactnativeapp\">Setup a React Native app</h2>\n<p>As an example for this tutorial, we will use a React Native project with two screens and React Navigation integrated.</p>\n<p>To create a new React Native project and install the react-navigation dependencies, run the following command from the terminal window:</p>\n<pre><code class=\"language-shell\">npx react-native init myAwesomeApp\n\n# after the project directory is created\n# navigate inside the directory\n# and install the following dependencies\n\nyarn add @react-navigation/native @react-navigation/native-stack react-native-safe-area-context react-native-screens \n</code></pre>\n<p>Inside <code>src/</code> directory, create a new directory called <code>navigation/</code> with a new file named <code>RootNavigator.js</code>. Add the following code to use the stack navigation pattern inside this file:</p>\n<pre><code class=\"language-js\">import * as React from 'react';\nimport {NavigationContainer} from '@react-navigation/native';\nimport {createNativeStackNavigator} from '@react-navigation/native-stack';\n\nimport HomeScreen from '../screens/HomeScreen';\nimport DetailScreen from '../screens/DetailScreen';\n\nconst Stack = createNativeStackNavigator();\n\nconst RootNavigator = () =&gt; {\n  return (\n    &lt;NavigationContainer&gt;\n      &lt;Stack.Navigator screenOptions={{headerShown: false}}&gt;\n        &lt;Stack.Screen name=&quot;Home&quot; component={HomeScreen} /&gt;\n        &lt;Stack.Screen name=&quot;Details&quot; component={DetailScreen} /&gt;\n      &lt;/Stack.Navigator&gt;\n    &lt;/NavigationContainer&gt;\n  );\n};\n\nexport default RootNavigator;\n</code></pre>\n<p>Modify the <code>App.js</code> file:</p>\n<pre><code class=\"language-js\">import React from 'react';\n\nimport RootNavigator from './src/navigation/RootNavigator';\n\nconst App = () =&gt; {\n  return &lt;RootNavigator /&gt;;\n};\n\nexport default App;\n</code></pre>\n<p>Now, let’s create two new screens. Start by creating a new directory called <code>src/screens/</code> and inside it, add the first file with the name <code>HomeScreen.js</code> and with the following code snippet:</p>\n<pre><code class=\"language-js\">import React from 'react';\nimport {View, Text, StyleSheet, Pressable} from 'react-native';\n\nconst HomeScreen = ({navigation}) =&gt; {\n  return (\n    &lt;View style={styles.screenContainer}&gt;\n      &lt;Text style={styles.title}&gt;Home Screen&lt;/Text&gt;\n      &lt;Pressable\n        style={styles.buttonStyle}\n        onPress={() =&gt; navigation.navigate('Details')}&gt;\n        &lt;Text style={styles.buttonTextStyle}&gt;Go To Detail Screen&lt;/Text&gt;\n      &lt;/Pressable&gt;\n    &lt;/View&gt;\n  );\n};\n\nconst styles = StyleSheet.create({\n  screenContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  title: {\n    fontSize: 32,\n  },\n  buttonStyle: {\n    height: 54,\n    width: '80%',\n    marginTop: 32,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2EE59D',\n    shadowRadius: 5,\n    shadowOpacity: 0.7,\n    shadowColor: 'rgba(46, 229, 157, 0.5)',\n    shadowOffset: {\n      width: 0,\n      height: 3,\n    },\n  },\n  buttonTextStyle: {\n    color: '#fdfdfd',\n    fontWeight: '700',\n  },\n});\n\nexport default HomeScreen;\n</code></pre>\n<p>Now, add the second screen component file, <code>DetailScreen.js</code>, and the following code snippet:</p>\n<pre><code class=\"language-js\">import React from 'react';\nimport {View, Text, StyleSheet, Pressable} from 'react-native';\n\nconst DetailScreen = ({navigation}) =&gt; {\n  return (\n    &lt;View style={styles.screenContainer}&gt;\n      &lt;Text style={styles.title}&gt;Detail Screen&lt;/Text&gt;\n      &lt;Pressable\n        style={styles.buttonStyle}\n        onPress={() =&gt; navigation.navigate('Home')}&gt;\n        &lt;Text style={styles.buttonTextStyle}&gt;Go To Home Screen&lt;/Text&gt;\n      &lt;/Pressable&gt;\n    &lt;/View&gt;\n  );\n};\n\nconst styles = StyleSheet.create({\n  screenContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  title: {\n    fontSize: 32,\n  },\n  buttonStyle: {\n    height: 54,\n    width: '80%',\n    marginTop: 32,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2EE59D',\n    shadowRadius: 5,\n    shadowOpacity: 0.7,\n    shadowColor: 'rgba(46, 229, 157, 0.5)',\n    shadowOffset: {\n      width: 0,\n      height: 3,\n    },\n  },\n  buttonTextStyle: {\n    color: '#fdfdfd',\n    fontWeight: '700',\n  },\n});\n\nexport default DetailScreen;\n</code></pre>\n<p>With the boilerplate setup done, now let’s build the apps for iOS and Android.</p>\n<p>For iOS, run the following command:</p>\n<pre><code class=\"language-shell\">npx react-native run-ios\n</code></pre>\n<p>For Android, run the following command:</p>\n<pre><code class=\"language-shell\">npx react-native run-android\n</code></pre>\n<p>Here is what the example app looks like in its current form. Notice that the splash screen and the app icon are defaults that come with React Native.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen1.gif\" alt=\"app icon and splash screen\"></center>\n<p>We are picking an icon from <a href=\"https://www.flaticon.com/premium-icon/atom_3326760?term=react&amp;related_id=3326850&amp;origin=search\">Flaticon.com</a> for the example app.</p>\n<p>After creating the original app icon, save it inside the directory <code>src/assets/</code> and name the file <code>original_icon</code>. (<em>Note: you can name the original icon file as per your requirement</em>).</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen2.png\" alt=\"save app icon\"></center>\n<p>Tip: Make sure your initial app logo is <code>1024x1024px</code>.</p>\n<h2 id=\"installingreactnativebootsplash\">Installing react-native-bootsplash</h2>\n<p>The initial step is to install the react-native-bootsplash package and then generate assets using it.</p>\n<p>Open the terminal window and execute the following command to install the package:</p>\n<pre><code class=\"language-shell\">yarn add react-native-bootsplash\n\n# or if using npm\nnpm install react-native-bootsplash\n</code></pre>\n<p>Next, for iOS, execute the command to install pods.</p>\n<pre><code class=\"language-shell\">npx pod-install ios\n</code></pre>\n<p>Tip: If you use a React Native version lower than <code>0.60</code>, please follow the instructions <a href=\"https://github.com/zoontek/react-native-bootsplash#-manual-linking\">here</a>  to link the package manually.</p>\n<p>Next, add the following script in the <code>package.json</code> file under the <code>&quot;scripts&quot;</code> section:</p>\n<pre><code class=\"language-json\">&quot;scripts&quot;: {\n  &quot;generate&quot;: &quot;npx react-native generate-bootsplash ./src/assets/original_icon.png --background-color=2EE59D   --logo-width=100 --assets-path=./src/assets --flavor=main&quot;\n}\n</code></pre>\n<p>Here is each option described:</p>\n<ul>\n<li><code>generate-bootsplash</code> is the command to generate the assets.</li>\n<li><code>./src/assets/original_icon.png</code> is the path to the original icon file. The path may vary depending on where you save the file in your React Native project.</li>\n<li><code>--background-color=hexadecimal_value</code> is a color value in hexadecimal format. The color here is used as the background color of the splash screen.</li>\n<li><code>--logo-width=100</code> is the width of the logo. This is a default value provided by the package</li>\n<li><code>assets-path</code> is the path to the assets directory.</li>\n<li><code>flavor</code> is an Android only option. Let's pass the value <code>main</code> here to target the default version of the Android app. You can learn more about <a href=\"https://developer.android.com/studio/build/build-variants\">Build Variants on Android here</a>.</li>\n</ul>\n<p>This will generate assets in the path specified for the option <code>assets-path</code>, a storyboard called <code>BootSplash.storyboard</code> file inside the <code>ios/app-name</code> directory, as well as generate assets for the Android app inside different sub-directories of the <code>android/app/src/main/res</code> folder.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen3.png\" alt=\"splash screen assets path\"></center>\n<p>Android requires five different sizes for different screen pixel densities. Icons for lower resolution are created automatically from the baseline (<em>mdpi</em>). Refer to the table below for more information on pixel densities:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Resolution</th>\n<th style=\"text-align:center\">Density</th>\n<th style=\"text-align:center\">Pixel units</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">mdpi (Baseline)</td>\n<td style=\"text-align:center\">160 dpi</td>\n<td style=\"text-align:center\">1×</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">hdpi</td>\n<td style=\"text-align:center\">240 dpi</td>\n<td style=\"text-align:center\">1.5×</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">xhdpi</td>\n<td style=\"text-align:center\">320 dpi</td>\n<td style=\"text-align:center\">2×</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">xxhdpi</td>\n<td style=\"text-align:center\">480 dpi</td>\n<td style=\"text-align:center\">3×</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">xxxhdpi</td>\n<td style=\"text-align:center\">640 dpi</td>\n<td style=\"text-align:center\">4×</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"addingsplashscreenonios\">Adding splash screen on iOS</h2>\n<p>Start by opening the file <code>ios/app-name.xcodeproj</code> in Xcode.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen4.png\" alt=\"splash screen file Xcode\"></center>\n<p>Then, drag the file <code>BootSplash.storyboard</code> under the Project directory in the Xcode file manager on the left side of the Xcode from the path <code>ios/app-name/</code> directory.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen5.png\" alt=\"bootsplash file manager\"></center>\n<p>After dragging it, Xcode will prompt the following to create a folder reference. First, make sure that under the <code>Add to targets</code> option, the <code>app-name</code> is selected. Then click the <strong>Finish</strong> button.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen6.png\" alt=\"splash screen ios\"></center>\n<p>The <code>BootSplash.storyboard</code> file will now be represented in the file manager as shown below:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen7.png\" alt=\"bootsplash storyboard\"></center>\n<p>Click on the <code>BootSplash.storyboard</code> file to verify that the background color was added when generating assets.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen8.png\" alt=\"verify background color\"></center> \n<p>Select the Xcode project from the file manager and select <code>BootSplash</code> from the dropdown menu next to <code>Launch Screen File</code>.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen9.png\" alt=\"bootsplash\"></center> \n<p>Now, open the <code>ios/app-name/AppDelegate.m</code> file and add the import to the following header reference:</p>\n<pre><code class=\"language-c\">#import &quot;AppDelegate.h&quot;\n\n#import &lt;React/RCTBridge.h&gt;\n#import &lt;React/RCTBundleURLProvider.h&gt;\n#import &lt;React/RCTRootView.h&gt;\n\n#import &quot;RNBootSplash.h&quot; // &lt;- add this\n</code></pre>\n<p>In the same file, add the following line to initialize the BootSplash.</p>\n<pre><code class=\"language-c\">@implementation AppDelegate\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n  // ... other statements\n   [RNBootSplash initWithStoryboard:@&quot;BootSplash&quot; rootView:rootView];\n  return YES;\n}\n</code></pre>\n<h2 id=\"addingsplashscreenonandroid\">Adding splash screen on Android</h2>\n<p>Start by modifying the <code>android/app/src/main/java/com/app-name/MainActivity.java</code> file.</p>\n<pre><code class=\"language-java\">package com.rnsplashandiconexample;\n\nimport com.facebook.react.ReactActivity;\n\n// ----- Add the following imports --------\nimport android.os.Bundle;\nimport com.zoontek.rnbootsplash.RNBootSplash;\n\npublic class MainActivity extends ReactActivity {\n\n  /**\n   * Returns the name of the main component registered from JavaScript. This is used to schedule\n   * rendering of the component.\n   */\n  @Override\n  protected String getMainComponentName() {\n    return &quot;rnSplashAndIconExample&quot;;\n  }\n\n  // ----- Add the following --------\n  @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    RNBootSplash.init(R.drawable.bootsplash, MainActivity.this);\n  }\n}\n</code></pre>\n<p>Then, modify the <code>android/app/src/main/res/values/styles.xml</code> file:</p>\n<pre><code class=\"language-xml\">&lt;resources&gt;\n\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;#000000&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- Add the following lines (BootTheme should inherit from AppTheme) --&gt;\n    &lt;style name=&quot;BootTheme&quot; parent=&quot;AppTheme&quot;&gt;\n      &lt;!-- set the generated bootsplash.xml drawable as activity background --&gt;\n      &lt;item name=&quot;android:background&quot;&gt;@drawable/bootsplash&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p>Next, modify the <code>android/app/src/main/AndroidManifest.xml</code> file by removing the original <code>&lt;intent-filter&gt;</code> tag and its contents. Replace it by adding <code>android:exported=&quot;true&quot;</code> and create a new <code>activity</code> element to use the theme created in the previous step.</p>\n<pre><code class=\"language-xml\">&lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot;\n        android:launchMode=&quot;singleTask&quot;\n        android:windowSoftInputMode=&quot;adjustResize&quot;\n        android:exported=&quot;true&quot;&gt;  &lt;!--- Add this --&gt;\n&lt;/activity&gt;\n\n&lt;!-- Then, add the following lines --&gt;\n&lt;activity\n      android:name=&quot;com.zoontek.rnbootsplash.RNBootSplashActivity&quot;\n      android:theme=&quot;@style/BootTheme&quot;\n      android:launchMode=&quot;singleTask&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n      &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<h2 id=\"controlhowtodisplayasplashscreenwhenthenavigatorismounted\">Control how to display a splash screen when the navigator is mounted</h2>\n<p>You can control the behavior of the splash screen to display until all the children of the React Navigation's <code>NavigationContainer</code> are mounted for the first time. This can be done by using a prop on the <code>NavigationContainer</code> called <a href=\"https://reactnavigation.org/docs/navigation-container/#onready\"><code>onReady</code></a>.</p>\n<p>Modify the <code>RootNavigator.js</code> file by importing the <code>react-native-bootsplash</code> and adding the prop <code>onReady</code>.</p>\n<pre><code class=\"language-js\">// after other import statements\nimport RNBootSplash from 'react-native-bootsplash';\n\nconst RootNavigator = () =&gt; {\n  return (\n    &lt;NavigationContainer onReady={() =&gt; RNBootSplash.hide()}&gt;\n      {/* Rest remains same */}\n    &lt;/NavigationContainer&gt;\n  );\n};\n</code></pre>\n<h2 id=\"testingthesplashscreenconfiguration\">Testing the splash screen configuration</h2>\n<p>The last step to see the splash screen in action is to run the build command for both iOS and Android.</p>\n<p>Open the terminal window and run the command to build the app for iOS and Android:</p>\n<pre><code class=\"language-shell\"># for iOS\nnpx react-native run-ios\n\n# for Android\nnpx react-native run-android\n</code></pre>\n<p>Here is the output after this step:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen10.gif\" alt=\"splash screen\"></center>\n<h2 id=\"addingappicontoiosapp\">Adding app icon to iOS app</h2>\n<p>To generate assets for different iOS devices, I am using a free app icon generator called <a href=\"https://appicon.co/\">appicon.co</a>.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen11.png\" alt=\"image for app icon\"></center>\n<p>After generating all the image assets, you will be able to download them in a zip file.</p>\n<p>Uploading an app icon for iOS follows the same process as using native iOS development. Open the file <code>ios/app-name.xcodeproj</code> in Xcode. Select the <code>Image.xcassets</code> from the file manager. Then select the <strong>AppIcon</strong>.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen12.png\" alt=\"app icon Xcode\"></center>\n<p>Drag and drop all the required image assets after downloading and unzipping them from appicon.co. Place the images as per the necessary pixel densities. After you are done, here is how the Xcode might look like:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen13.png\" alt=\"Xcode result\"></center>\n<p>Open a terminal window and run the command to build an app for iOS:</p>\n<pre><code class=\"language-shell\">npx react-native run-ios\n</code></pre>\n<p>After the rebuild, the app icon will display.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen14.png\" alt=\"app icon iOS \"></center>\n<h2 id=\"addingappicontoandroidapp\">Adding app icon to Android app</h2>\n<p>The leverage react-native-bootsplash package generates all the app icons for Android and stores them in the multiple sub-directories under the <code>android/app/src/main/res</code> directory.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen15.png\" alt=\"app icon directory\"></center>\n<p>The simple way here is to replace the default values for the properties <code>android:icon</code> and <code>android:roundIcon</code> in the <code>android/app/src/main/AndroidManifest.xml</code> file to point to the <code>bootsplash_logo</code> file name.</p>\n<pre><code class=\"language-xml\"> &lt;application\n      android:name=&quot;.MainApplication&quot;\n      android:label=&quot;@string/app_name&quot;\n      // modify the two lines below\n      android:icon=&quot;@mipmap/bootsplash_logo&quot;\n      android:roundIcon=&quot;@mipmap/bootsplash_logo&quot;\n      // ----------------------------\n      android:allowBackup=&quot;false&quot;\n      android:theme=&quot;@style/AppTheme&quot;&gt;\n</code></pre>\n<p>After this modification, rebuild the Android app using the following command from a terminal window:</p>\n<pre><code class=\"language-shell\">npx react-native run-android\n</code></pre>\n<p>After the rebuild, the app icon will display.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-splash-screen16.png\" alt=\"jscrambler blog app icon\"></center>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>Once you get the hang of this process, it doesn't take much time. Those are all the necessary steps to add a splash screen and an app icon to a React Native app.</p>\n<p>For more advanced usage of <code>react-native-bootsplash</code> please check its <a href=\"https://github.com/zoontek/react-native-bootsplash\">official documentation here on GitHub</a>. There are some advanced strategies explained there, including animating the splash screen.</p>\n<p>Finally, don't forget to pay special attention if you're developing commercial React Native apps that contain sensitive logic. You can protect them against code theft, tampering, and reverse engineering by following <a href=\"/how-to-protect-react-native-apps-with-jscrambler/\" target=\"_blank\" class=\"protect-react-native-link\">our guide</a>.</p>\n<p><a href=\"https://github.com/amandeepmittal/react-native-examples/tree/master/rnSplashAndIconExample\"><strong>Complete source code for this example is at this GitHub repo</strong></a></p>\n<\!--kg-card-end: markdown-->","comment_id":"61546e5540d337000138c397","feature_image":"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-how-to-add-splash-screen-and-app-icon-thumbnail.jpg","featured":true,"meta_title":"How to add Splash Screen and App Icon in React Native","meta_description":"In this tutorial, let's learn how to display a splash screen when an app starts and also how to add app icons in a React Native app.","created_at":"2021-09-29T14:47:01.000+01:00","updated_at":"2021-09-29T16:26:17.000+01:00","published_at":"2021-09-29T16:14:36.000+01:00","custom_excerpt":null,"codeinjection_head":null,"codeinjection_foot":null,"og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"custom_template":null,"canonical_url":null,"page":false,"authors":[{"id":"5cf63cbe2c4b7900014315fc","name":"Aman Mittal","slug":"aman-mittal","profile_image":"https://blog.jscrambler.com/content/images/2020/07/aman-mittal-bio-photo.jpg","cover_image":null,"bio":"I'm Aman who works as an independent developer with technologies such as Node.js, Reactjs and React Native. I try to document and write tutorials to help JavaScript Web and Mobile developers.","website":null,"location":null,"facebook":null,"twitter":"@amanhimself","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/author/aman-mittal/"}],"tags":[{"id":"5cf63cc12c4b7900014316bd","name":"React Native","slug":"react-native","description":null,"feature_image":null,"visibility":"public","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/tag/react-native/"}],"primary_author":{"id":"5cf63cbe2c4b7900014315fc","name":"Aman Mittal","slug":"aman-mittal","profile_image":"https://blog.jscrambler.com/content/images/2020/07/aman-mittal-bio-photo.jpg","cover_image":null,"bio":"I'm Aman who works as an independent developer with technologies such as Node.js, Reactjs and React Native. I try to document and write tutorials to help JavaScript Web and Mobile developers.","website":null,"location":null,"facebook":null,"twitter":"@amanhimself","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/author/aman-mittal/"},"primary_tag":{"id":"5cf63cc12c4b7900014316bd","name":"React Native","slug":"react-native","description":null,"feature_image":null,"visibility":"public","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/tag/react-native/"},"url":"https://blog.jscrambler.com/how-to-add-a-splash-screen-and-app-icon-in-react-native/","excerpt":"\n\nEvery mobile application has a splash screen and an app icon, and together they\nprovide the first impression. An app icon is displayed in various places, such\nas on an app store, on the device's app drawer, etc., whereas a splash screen is\nshown during the app startup. Adding a splash screen or an app icon to a React\nNative app can be an agile process.\n\nIn this tutorial, let's learn how to use an awesome package called \nreact-native-bootsplash [https://github.com/zoontek/react-native-bootsplas","reading_time":"10 min read","image":"https://blog.jscrambler.com/content/images/2021/09/jscrambler-blog-how-to-add-splash-screen-and-app-icon-thumbnail.jpg"},{"id":"60dda2ba631ea600017ab4a6","uuid":"d704e349-4842-4a71-bbc1-8d59508ff98a","title":"How To Integrate Firebase Authentication With an Expo App","slug":"how-to-integrate-firebase-authentication-with-an-expo-app","html":"<\!--kg-card-begin: markdown--><p><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-integrate-firebase-authentication-with-expo-app-thumbnail-1.jpg\" alt=\"jscrambler-blog-integrate-firebase-authentication-with-expo-app-thumbnail-1\"></p>\n<p><a href=\"https://console.firebase.google.com/\">Firebase</a> is a Backend as a Service (BaaS) that provides a variety of services for web and mobile app development. Most of the mobile apps built using React Native and Expo require knowing the identity of a user. This allows an app to securely save user data in the cloud and provide more personalized functionalities.</p>\n<p>Firebase has an Authentication service that integrates well in a React Native and Expo app. It has a ready-to-use SDK and supports many authentication providers such as email/password, phone numbers, and federated providers (Google, Facebook, Twitter, etc.).</p>\n<p>In this tutorial, let's take a look at how as a mobile developer building applications using Expo SDK, you can integrate and use Firebase Authentication. You are going to:</p>\n<ul>\n<li>create some sample screens to display forms (login, sign-up);</li>\n<li>create a home screen that only a logged-in user can access;</li>\n<li>create different navigators using the <a href=\"https://reactnavigation.org/\">react-navigation</a> library;</li>\n<li>create an auth flow by conditionally rendering between these navigators when a user is logged in or not;</li>\n<li>and integrate Firebase Auth with the email/password method.</li>\n</ul>\n<p><a href=\"https://github.com/amandeepmittal/react-native-examples/tree/master/expo-firebase-auth-example\">The source code for this tutorial is available on GitHub</a>.</p>\n<h2 id=\"prerequisites\">Prerequisites</h2>\n<p>To follow this tutorial, please make sure you have the following tools and utilities installed on your local development environment and have access to the services mentioned below:</p>\n<ul>\n<li><a href=\"https://nodejs.org/en/\">Nodejs</a> (&gt;= 12.x.x) with a package manager installed such as npm or yarn</li>\n<li><a href=\"https://docs.expo.io/workflow/expo-cli/\">expo-cli</a> (&gt;= 4.x.x)</li>\n<li>Firebase account (a free “Spark” plan is enough).</li>\n</ul>\n<h2 id=\"creatingareactnativeappwithexpocli\">Creating a React Native app with expo-cli</h2>\n<p>The initial step is to either create a new React Native project using expo-cli by following the steps mentioned below or, if you know the lexicons of creating projects with Expo, integrate <a href=\"https://github.com/firebase/firebase-js-sdk\">Firebase JS SDK</a>.</p>\n<p>Yes, this guide is using Firebase JS SDK and <a href=\"https://docs.expo.io/introduction/managed-vs-bare/#managed-workflow\">Expo managed workflow</a>.</p>\n<p>Open your favorite terminal window, and execute the following command (where <code>firebase-auth</code> is an example name of the project directory)</p>\n<pre><code class=\"language-sh\">expo init firebase-auth\n\n# navigate inside the directory\n\ncd firebase-auth\n</code></pre>\n<p>Then, install the following libraries:</p>\n<pre><code class=\"language-sh\">npm install @react-navigation/native @react-navigation/stack\n\n# OR is using yarn\n\nyarn add @react-navigation/native @react-navigation/stack\n\n# after the above dependencies install successfully\n\nexpo install firebase dotenv expo-constants react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view\n</code></pre>\n<p><strong>Side-note:</strong> This example guide is using React Navigation library version 5. Make sure to check out the <a href=\"https://reactnavigation.org/docs/getting-started/\">official documentation</a>, as some of the installation instructions might have changed since the writing of this tutorial.</p>\n<h2 id=\"createafirebaseproject\">Create a Firebase Project</h2>\n<p>To get started, you’re going to need a Firebase app. Once you’ve created a new account with Firebase and logged in, create a new project by clicking on the <strong>Add Project</strong> button.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-2.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-2\"></center>\n<p>Next, add the name of the new Firebase project and then click <strong>Continue</strong>.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-3.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-3\"></center>\n<p>You can disable Google Analytics as it won't be used in this example. Then click <strong>Create Project</strong></p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-4.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-4\"></center>\n<p>Expo Managed workflow apps can run inside a client app Expo Go (in development mode). The Expo Go app currently supports Firebase JS SDK and not the react-native-firebase library. More information in <a href=\"https://docs.expo.io/guides/using-firebase/\">official Expo documentation</a>.</p>\n<p>On the Dashboard screen, in the left side menu, click the settings icon, and then go to the <em>Project Settings</em> page and then look for the section <em>General &gt; Your apps</em>. If it's a new project, there won't be any apps.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-5.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-5\"></center>\n<p>Click the Web button. It will prompt you to enter the details of your app. Enter the app’s nickname, and then click the <em>Register app</em> button.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-6.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-6\"></center>\n<p>Then, Firebase will provide configuration objects with API keys and other keys that are required to use different Firebase services.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-7.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-7\"></center>\n<p>These API keys can be included in your React Native app as they are not used to access Firebase services’ backend resources. <a href=\"https://firebase.google.com/docs/projects/api-keys\">That can only be done by Firebase security rules</a>.</p>\n<p>This does not mean that you should expose these keys to a version control host such as GitHub. We will learn how to set up environment variables in an Expo app in the next section.</p>\n<p>Let's enable the email/password sign-in method. From the left side menu, go to the <em>Authentication</em> page. If you are using this service for the first time in your Firebase project, click the <em>Get Started</em> button.</p>\n<p>Then, in the <em>Sign-in method</em> tab, click the status of <em>Email/Password</em>, enable it, and then click <em>Save</em>.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-8.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-8\"></center>\n<h2 id=\"usingenvironmentvariables\">Using Environment Variables</h2>\n<p>To add environment variables to an Expo app, the initial step is to install the <a href=\"https://github.com/motdotla/dotenv#config\">dotenv</a> package (which should be already installed if you have been following along).</p>\n<p>Create a <code>.env</code> file at the root of your project and add the following:</p>\n<pre><code class=\"language-sh\">API_KEY=XXXX\nAUTH_DOMAIN=XXXX\nPROJECT_ID=XXXX\nSTORAGE_BUCKET=XXXX\nMESSAGING_SENDER_ID=XXXX\nAPP_ID=XXXX\n</code></pre>\n<p>Replace all <code>X's</code> in the above file with actual values for each key you get from the <code>firebaseConfig</code> object.</p>\n<p>Next, rename the <code>app.json</code> file to <code>app.config.js</code> at the root of your project. Add the import statement to use the <code>dotenv</code> configuration. Since it's a JSON file, you will have to export all Expo configuration variables and also add an <code>extra</code> object that contains Firebase configuration keys. Here is how the file should look like after this step:</p>\n<pre><code class=\"language-js\">import 'dotenv/config';\n\nexport default {\n  expo: {\n    name: 'expo-firebase-auth-example',\n    slug: 'expo-firebase-auth-example',\n    version: '1.0.0',\n    orientation: 'portrait',\n    icon: './assets/icon.png',\n    splash: {\n      image: './assets/splash.png',\n      resizeMode: 'contain',\n      backgroundColor: '#ffffff'\n    },\n    updates: {\n      fallbackToCacheTimeout: 0\n    },\n    assetBundlePatterns: ['**/*'],\n    ios: {\n      supportsTablet: true\n    },\n    android: {\n      adaptiveIcon: {\n        foregroundImage: './assets/adaptive-icon.png',\n        backgroundColor: '#FFFFFF'\n      }\n    },\n    web: {\n      favicon: './assets/favicon.png'\n    },\n    extra: {\n      apiKey: process.env.API_KEY,\n      authDomain: process.env.AUTH_DOMAIN,\n      projectId: process.env.PROJECT_ID,\n      storageBucket: process.env.STORAGE_BUCKET,\n      messagingSenderId: process.env.MESSAGING_SENDER_ID,\n      appId: process.env.APP_ID\n    }\n  }\n};\n</code></pre>\n<p>Now, all the keys inside the <code>extra</code> object are readable app-wide using <code>expo-constants</code>. This package allows reading values from <code>app.json</code> - or in this case, the <code>app.config.js</code> file.</p>\n<p>Open the Expo-generated project in your code editor, create a new directory in the root called <code>config/</code> and add a file called <code>firebase.js</code>. Edit the file as shown below:</p>\n<pre><code class=\"language-js\">import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport Constants from 'expo-constants';\n\n// Initialize Firebase\nconst firebaseConfig = {\n  apiKey: Constants.manifest.extra.apiKey,\n  authDomain: Constants.manifest.extra.authDomain,\n  projectId: Constants.manifest.extra.projectId,\n  storageBucket: Constants.manifest.extra.storageBucket,\n  messagingSenderId: Constants.manifest.extra.messagingSenderId,\n  appId: Constants.manifest.extra.appId\n};\n\nlet Firebase;\n\nif (firebase.apps.length === 0) {\n  Firebase = firebase.initializeApp(firebaseConfig);\n}\n\nexport default Firebase;\n</code></pre>\n<h2 id=\"creatingreusablecomponents\">Creating reusable components</h2>\n<p>The example app we are building in this tutorial will require some reusable components. These are visual components that can be used on different screens. Instead of writing them from scratch on every screen inside the app, let's create them once and re-use them whenever required.</p>\n<p>Create a new directory called <code>components/</code> and the following files:</p>\n<ul>\n<li>Button.js: contains a configurable <code>&lt;Pressable/&gt;</code> component;</li>\n<li>IconButton.js: contains an icon button composed of a <code>&lt;Pressable/&gt;</code> component and the <code>@expo/vector-icons</code> library;</li>\n<li>ErrorMessage.js: a text component that is used to display an error message when authenticating a user;</li>\n<li>InputField.js: contains a configurable <code>&lt;TextInput /&gt;</code> component.</li>\n</ul>\n<p>Add <a href=\"https://github.com/amandeepmittal/react-native-examples/blob/master/expo-firebase-auth-example/components/Button.js\">this code snippet</a> to the <code>Button.js</code> file and <a href=\"https://github.com/amandeepmittal/react-native-examples/blob/master/expo-firebase-auth-example/components/IconButton.js\">this code snippet</a> to <code>IconButton.js</code>.</p>\n<p>Add the following code snippet in <code>ErrorMessage.js</code>. This component will be used to display error messages either when signing up or logging in to the app. These messages are human-readable and thrown by the Firebase Auth service. You can go through the complete list of messages in the <a href=\"https://firebase.google.com/docs/auth/admin/errors\">Firebase official documentation</a>.</p>\n<pre><code class=\"language-js\">// components/ErrorMessage.js\n\nimport React from 'react';\nimport { StyleSheet, Text } from 'react-native';\n\nconst ErrorMessage = ({ error, visible }) =&gt; {\n  if (!error || !visible) {\n    return null;\n  }\n\n  return &lt;Text style={styles.errorText}&gt;⚠️ {error}&lt;/Text&gt;;\n};\n\nconst styles = StyleSheet.create({\n  errorText: {\n    color: '#fdca40',\n    fontSize: 20,\n    marginBottom: 10,\n    fontWeight: '600'\n  }\n});\n\nexport default ErrorMessage;\n</code></pre>\n<p>Add <a href=\"https://github.com/amandeepmittal/react-native-examples/blob/master/expo-firebase-auth-example/components/InputField.js\">this code snippet</a> to <code>InputField.js</code>.</p>\n<p>Lastly, create an <code>index.js</code> file that will expose all these components from the directory itself:</p>\n<pre><code class=\"language-js\">import IconButton from './IconButton';\nimport Button from './Button';\nimport ErrorMessage from './ErrorMessage';\nimport InputField from './InputField';\n\nexport { IconButton, Button, ErrorMessage, InputField };\n</code></pre>\n<h2 id=\"creatingscreensintheapp\">Creating screens in the app</h2>\n<p>The sole focus of this tutorial is to integrate Firebase SDK and not to teach how to create app screens in React Native from scratch. While we go briefly over which screen is going to be composed of what React Native elements, please make sure you have basic knowledge of what <a href=\"https://reactnative.dev/docs/components-and-apis\">core components</a> are included in React Native.</p>\n<p>Let's start by creating the structure of the screens directory. Once you have opened the Expo project in your preferred code editor, you will be welcomed by the default directory structure as shown below:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-1.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-1\" ></center>\n<p>Create a new directory called <code>/screens</code> and add the following screen files:</p>\n<ul>\n<li>HomeScreen.js</li>\n<li>LoginScreen.js</li>\n<li>SignupScreen.js</li>\n</ul>\n<p>After creating these screen files, let's create the screens one by one. Start by modifying <code>HomeScreen.js</code>. This screen will show the user's email and their UID when the user has either successfully signed up or logged in.</p>\n<p>The UID is generated and assigned to every user who registers with the Firebase Auth service.</p>\n<p>Both the user's email and UID will come from <code>AuthenticatedUserContext</code>. We will get into those details later.</p>\n<p>The <code>firebase.auth().signOut()</code> function is a method provided by the Firebase auth service to log out the user from the app.</p>\n<p>Add the following code snippet to <code>HomeScreen.js</code>.</p>\n<pre><code class=\"language-js\">import { StatusBar } from 'expo-status-bar';\nimport React, { useContext } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\n\nimport { IconButton } from '../components';\nimport Firebase from '../config/firebase';\nimport { AuthenticatedUserContext } from '../navigation/AuthenticatedUserProvider';\n\nconst auth = Firebase.auth();\n\nexport default function HomeScreen() {\n  const { user } = useContext(AuthenticatedUserContext);\n  const handleSignOut = async () =&gt; {\n    try {\n      await auth.signOut();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;StatusBar style='dark-content' /&gt;\n      &lt;View style={styles.row}&gt;\n        &lt;Text style={styles.title}&gt;Welcome {user.email}!&lt;/Text&gt;\n        &lt;IconButton\n          name='logout'\n          size={24}\n          color='#fff'\n          onPress={handleSignOut}\n        /&gt;\n      &lt;/View&gt;\n      &lt;Text style={styles.text}&gt;Your UID is: {user.uid} &lt;/Text&gt;\n    &lt;/View&gt;\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#e93b81',\n    paddingTop: 50,\n    paddingHorizontal: 12\n  },\n  row: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 24\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '600',\n    color: '#fff'\n  },\n  text: {\n    fontSize: 16,\n    fontWeight: 'normal',\n    color: '#fff'\n  }\n});\n</code></pre>\n<p>Next, let's create the login screen. Add the code snippet below inside <code>LoginScreen.js</code>. It contains two input fields and a button. Each input field represents the field where the user will enter their <code>email</code> and <code>password</code>. The value of each input field is stored inside two namesake state variables using the <code>useState</code> hook.</p>\n<p>Initially, the value for each variable is an empty string. When the user provides the value in the input field, the current value for each of these variables is updated using the corresponding update function <code>setEmail</code> and <code>setPassword</code>. The values stored by these variables will be used when sending login information to Firebase.</p>\n<p>The three other state variables defined inside the <code>LoginScreen</code> component are:</p>\n<ul>\n<li><code>passwordVisibility</code>: to show/hide password on the input field</li>\n<li><code>rightIcon</code>: to set a default icon for the <code>passwordVisibility</code> functionality</li>\n<li><code>loginError</code>: to store any incoming error when logging in from Firebase.</li>\n</ul>\n<p><code>onLogin</code> is an asynchronous method that handles whether to log in the user or not based on their <code>email</code> and <code>password</code> values. These values are passed as arguments to a method called <code>signInWithEmailAndPassword</code> provided by Firebase Auth.</p>\n<pre><code class=\"language-js\">import { StatusBar } from 'expo-status-bar';\nimport React from 'react';\nimport { useState } from 'react';\nimport { StyleSheet, Text, View, Button as RNButton } from 'react-native';\n\nimport { Button, InputField, ErrorMessage } from '../components';\nimport Firebase from '../config/firebase';\n\nconst auth = Firebase.auth();\n\nexport default function LoginScreen({ navigation }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordVisibility, setPasswordVisibility] = useState(true);\n  const [rightIcon, setRightIcon] = useState('eye');\n  const [loginError, setLoginError] = useState('');\n\n  const handlePasswordVisibility = () =&gt; {\n    if (rightIcon === 'eye') {\n      setRightIcon('eye-off');\n      setPasswordVisibility(!passwordVisibility);\n    } else if (rightIcon === 'eye-off') {\n      setRightIcon('eye');\n      setPasswordVisibility(!passwordVisibility);\n    }\n  };\n\n  const onLogin = async () =&gt; {\n    try {\n      if (email !== '' &amp;&amp; password !== '') {\n        await auth.signInWithEmailAndPassword(email, password);\n      }\n    } catch (error) {\n      setLoginError(error.message);\n    }\n  };\n\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;StatusBar style='dark-content' /&gt;\n      &lt;Text style={styles.title}&gt;Login&lt;/Text&gt;\n      &lt;InputField\n        inputStyle={{\n          fontSize: 14\n        }}\n        containerStyle={{\n          backgroundColor: '#fff',\n          marginBottom: 20\n        }}\n        leftIcon='email'\n        placeholder='Enter email'\n        autoCapitalize='none'\n        keyboardType='email-address'\n        textContentType='emailAddress'\n        autoFocus={true}\n        value={email}\n        onChangeText={text =&gt; setEmail(text)}\n      /&gt;\n      &lt;InputField\n        inputStyle={{\n          fontSize: 14\n        }}\n        containerStyle={{\n          backgroundColor: '#fff',\n          marginBottom: 20\n        }}\n        leftIcon='lock'\n        placeholder='Enter password'\n        autoCapitalize='none'\n        autoCorrect={false}\n        secureTextEntry={passwordVisibility}\n        textContentType='password'\n        rightIcon={rightIcon}\n        value={password}\n        onChangeText={text =&gt; setPassword(text)}\n        handlePasswordVisibility={handlePasswordVisibility}\n      /&gt;\n      {loginError ? &lt;ErrorMessage error={loginError} visible={true} /&gt; : null}\n      &lt;Button\n        onPress={onLogin}\n        backgroundColor='#f57c00'\n        title='Login'\n        tileColor='#fff'\n        titleSize={20}\n        containerStyle={{\n          marginBottom: 24\n        }}\n      /&gt;\n      &lt;RNButton\n        onPress={() =&gt; navigation.navigate('Signup')}\n        title='Go to Signup'\n        color='#fff'\n      /&gt;\n    &lt;/View&gt;\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#e93b81',\n    paddingTop: 50,\n    paddingHorizontal: 12\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '600',\n    color: '#fff',\n    alignSelf: 'center',\n    paddingBottom: 24\n  }\n});\n</code></pre>\n<p>The signup screen is similar to the login screen. It uses <code>onHandleSignup</code>, which is an asynchronous method that handles the action of registering a user or not based on their <code>email</code> and <code>password</code> values. These values are passed as arguments to a method called <code>createUserWithEmailAndPassword</code> provided by Firebase Auth. Add the following code snippet to the <code>SignupScreen.js</code> file:</p>\n<pre><code class=\"language-js\">import { StatusBar } from 'expo-status-bar';\nimport React from 'react';\nimport { useState } from 'react';\nimport { StyleSheet, Text, View, Button as RNButton } from 'react-native';\n\nimport { Button, InputField, ErrorMessage } from '../components';\nimport Firebase from '../config/firebase';\n\nconst auth = Firebase.auth();\n\nexport default function SignupScreen({ navigation }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordVisibility, setPasswordVisibility] = useState(true);\n  const [rightIcon, setRightIcon] = useState('eye');\n  const [signupError, setSignupError] = useState('');\n\n  const handlePasswordVisibility = () =&gt; {\n    if (rightIcon === 'eye') {\n      setRightIcon('eye-off');\n      setPasswordVisibility(!passwordVisibility);\n    } else if (rightIcon === 'eye-off') {\n      setRightIcon('eye');\n      setPasswordVisibility(!passwordVisibility);\n    }\n  };\n\n  const onHandleSignup = async () =&gt; {\n    try {\n      if (email !== '' &amp;&amp; password !== '') {\n        await auth.createUserWithEmailAndPassword(email, password);\n      }\n    } catch (error) {\n      setSignupError(error.message);\n    }\n  };\n\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;StatusBar style='dark-content' /&gt;\n      &lt;Text style={styles.title}&gt;Create new account&lt;/Text&gt;\n      &lt;InputField\n        inputStyle={{\n          fontSize: 14\n        }}\n        containerStyle={{\n          backgroundColor: '#fff',\n          marginBottom: 20\n        }}\n        leftIcon='email'\n        placeholder='Enter email'\n        autoCapitalize='none'\n        keyboardType='email-address'\n        textContentType='emailAddress'\n        autoFocus={true}\n        value={email}\n        onChangeText={text =&gt; setEmail(text)}\n      /&gt;\n      &lt;InputField\n        inputStyle={{\n          fontSize: 14\n        }}\n        containerStyle={{\n          backgroundColor: '#fff',\n          marginBottom: 20\n        }}\n        leftIcon='lock'\n        placeholder='Enter password'\n        autoCapitalize='none'\n        autoCorrect={false}\n        secureTextEntry={passwordVisibility}\n        textContentType='password'\n        rightIcon={rightIcon}\n        value={password}\n        onChangeText={text =&gt; setPassword(text)}\n        handlePasswordVisibility={handlePasswordVisibility}\n      /&gt;\n      {signupError ? &lt;ErrorMessage error={signupError} visible={true} /&gt; : null}\n      &lt;Button\n        onPress={onHandleSignup}\n        backgroundColor='#f57c00'\n        title='Signup'\n        tileColor='#fff'\n        titleSize={20}\n        containerStyle={{\n          marginBottom: 24\n        }}\n      /&gt;\n      &lt;RNButton\n        onPress={() =&gt; navigation.navigate('Login')}\n        title='Go to Login'\n        color='#fff'\n      /&gt;\n    &lt;/View&gt;\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#e93b81',\n    paddingTop: 50,\n    paddingHorizontal: 12\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '600',\n    color: '#fff',\n    alignSelf: 'center',\n    paddingBottom: 24\n  }\n});\n</code></pre>\n<h2 id=\"createanauthenticateduserprovider\">Create an authenticated user provider</h2>\n<p>In this section, you are going to create an authentication provider to check whether the user is logged in or not and access them if they are logged in.</p>\n<p>Create a new directory called <code>navigation/</code> and inside it, create a file called <code>AuthenticatedUserProvider.js</code>.</p>\n<p>When a user is authenticated using a sign-in method in Firebase, it returns a user object with various properties such as email, photo URL, UID, display name, etc. To create the auth flow in the example app we are building, we need a way of knowing whether this user object exists or not. Thus, we conditionally render two different stack navigators (we will create them in the next section). So, a user will only be able to log in and access <code>HomeScreen</code> if their respective user object exists.</p>\n<p>One way to share data that is considered global in a React app is to use the React Context API. When creating a context, we must pass a default value. This value is used when a component has a matching Provider.</p>\n<p>The Provider allows the React components to subscribe to the context changes. It wraps all other components in the React or React Native app.</p>\n<p>To create an authenticated user provider, export a function called <code>AuthenticatedUserProvider</code>. This provider is going to allow the screen components to access the logged-in or logged-out state of a user in the application. So, in the code snippet below, we define a state variable called <code>user</code>.</p>\n<pre><code class=\"language-js\">import React, { useState, createContext } from 'react';\n\nexport const AuthenticatedUserContext = createContext({});\n\nexport const AuthenticatedUserProvider = ({ children }) =&gt; {\n  const [user, setUser] = useState(null);\n\n  return (\n    &lt;AuthenticatedUserContext.Provider value={{ user, setUser }}&gt;\n      {children}\n    &lt;/AuthenticatedUserContext.Provider&gt;\n  );\n};\n</code></pre>\n<h2 id=\"creatinghomeandauthstacks\">Creating Home and Auth stacks</h2>\n<p>In this example app, there are two different stack navigator files to create:</p>\n<ul>\n<li><code>HomeStack.js</code>: composed of <code>HomeScreen</code></li>\n<li><code>AuthStack.js</code>: composed of <code>LoginScreen</code> and <code>SignupScreen</code></li>\n</ul>\n<p>Create these new files inside the <code>navigation/</code> directory.</p>\n<p>Add the following code snippet inside <code>HomeStack.js</code>:</p>\n<pre><code class=\"language-js\">import React from 'react';\nimport { createStackNavigator } from '@react-navigation/stack';\n\nimport HomeScreen from '../screens/HomeScreen';\n\nconst Stack = createStackNavigator();\n\nexport default function HomeStack() {\n  return (\n    &lt;Stack.Navigator headerMode='none'&gt;\n      &lt;Stack.Screen name='Home' component={HomeScreen} /&gt;\n    &lt;/Stack.Navigator&gt;\n  );\n}\n</code></pre>\n<p>Next, add the following code snippet inside <code>AuthStack.js</code>:</p>\n<pre><code class=\"language-js\">import React from 'react';\nimport { createStackNavigator } from '@react-navigation/stack';\n\nimport LoginScreen from '../screens/LoginScreen';\nimport SignupScreen from '../screens/SignupScreen';\n\nconst Stack = createStackNavigator();\n\nexport default function AuthStack() {\n  return (\n    &lt;Stack.Navigator headerMode='none'&gt;\n      &lt;Stack.Screen name='Login' component={LoginScreen} /&gt;\n      &lt;Stack.Screen name='Signup' component={SignupScreen} /&gt;\n    &lt;/Stack.Navigator&gt;\n  );\n}\n</code></pre>\n<h2 id=\"checkausersauthenticatedstate\">Check a user's authenticated state</h2>\n<p>The Firebase Auth service provides a listener called <code>onAuthStateChanged</code> to detect changes to a user's logged-in state. It subscribes to a user's current authenticated state and receives an event whenever that state changes.</p>\n<p>Using this listener, if the returned state of a user is <code>null</code>, it means that the user is currently logged out. If it does not return <code>null</code>, it will return a user object. This helps in persisting a user's authentication state in the app.</p>\n<p>We will use this listener method at the top of our navigator. Create a new file called <code>RootNavigator.js</code> inside the <code>navigation/</code> directory. Start by importing the following statements:</p>\n<pre><code class=\"language-js\">import React, { useContext, useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { View, ActivityIndicator } from 'react-native';\n\nimport Firebase from '../config/firebase';\nimport { AuthenticatedUserContext } from './AuthenticatedUserProvider';\nimport AuthStack from './AuthStack';\nimport HomeStack from './HomeStack';\n\nconst auth = Firebase.auth();\n</code></pre>\n<p>Next, create a function component called <code>RootNavigator</code>. Inside it, define a state variable called <code>isLoading</code> when a user's authenticated state is currently being checked with the Firebase Auth service.</p>\n<p>Using the <code>useContext</code> hook, get the current value of <code>user</code> and the method <code>setUser</code> to update that value from <code>AuthenticatedUserContext</code>.</p>\n<p>This hook will trigger a re-render whenever the value of <code>user</code> changes from the <code>AuthenticatedUserContext</code>.</p>\n<p>The <code>onAuthStateChanged</code> listener will trigger inside the <code>useEffect</code> hook. It also returns an unsubscriber function which allows the app to stop listening for events whenever the hook is no longer in use.</p>\n<p>Add the following code snippet inside the <code>RootNavigator.js</code> file:</p>\n<pre><code class=\"language-js\">export default function RootNavigator() {\n  const { user, setUser } = useContext(AuthenticatedUserContext);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() =&gt; {\n    // onAuthStateChanged returns an unsubscriber\n    const unsubscribeAuth = auth.onAuthStateChanged(async authenticatedUser =&gt; {\n      try {\n        await (authenticatedUser ? setUser(authenticatedUser) : setUser(null));\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    // unsubscribe auth listener on unmount\n    return unsubscribeAuth;\n  }, []);\n\n  if (isLoading) {\n    return (\n      &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;\n        &lt;ActivityIndicator size='large' /&gt;\n      &lt;/View&gt;\n    );\n  }\n\n  return (\n    &lt;NavigationContainer&gt;\n      {user ? &lt;HomeStack /&gt; : &lt;AuthStack /&gt;}\n    &lt;/NavigationContainer&gt;\n  );\n}\n</code></pre>\n<p>In the above code snippet, note that both the stack navigators are conditionally rendered depending on the state of the user.</p>\n<h2 id=\"wrappingrootnavigatorwithauthenticateduserprovider\">Wrapping RootNavigator with AuthenticatedUserProvider</h2>\n<p>Now that <code>RootNavigator</code> is defined, the question remains on how to use <code>AuthenticatedUserProvider</code> to wrap a set of components in the current app tree.</p>\n<p>Well, you have to wrap this provider around the <code>RootNavigator</code> in order to use the helper functions as well as the value of the current user in the screen components.</p>\n<p>Create an <code>index.js</code> file inside the <code>navigation/</code> directory and add the following code snippet:</p>\n<pre><code class=\"language-js\">import React from 'react';\n\nimport { AuthenticatedUserProvider } from './AuthenticatedUserProvider';\nimport RootNavigator from './RootNavigator';\n\n/**\n * Wrap all providers here\n */\n\nexport default function Routes() {\n  return (\n    &lt;AuthenticatedUserProvider&gt;\n      &lt;RootNavigator /&gt;\n    &lt;/AuthenticatedUserProvider&gt;\n  );\n}\n</code></pre>\n<p>Also, modify the <code>App.js</code> file to return <code>Routes</code>.</p>\n<p>Here is the demo of the complete authentication flow you will get after this step:</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-9.gif\" alt=\"jscrambler-blog-firebase-authentication-with-expo-9\"></center>\n<p>If you head over to the Firebase console and go to the <strong>Users</strong> tab on the Authentication page, you will see the details of the signed up user.</p>\n<center><img src=\"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-firebase-authentication-with-expo-10.png\" alt=\"jscrambler-blog-firebase-authentication-with-expo-10\"></center>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>You have now successfully integrated the Firebase Auth service in a React Native app using Expo SDK.</p>\n<p>Using Firebase JS SDK allows integrating other sign-in providers such as Phone authentication, Facebook and Google. Refer to <a href=\"https://docs.expo.io/guides/using-firebase/#login-methods\">Expo’s official documentation</a> to try out other login providers.</p>\n<p>If you need to take a look at the code for this tutorial, you can refer to this <a href=\"https://github.com/amandeepmittal/react-native-examples/tree/master/expo-firebase-auth-example\">GitHub repo</a>.</p>\n<\!--kg-card-end: markdown-->","comment_id":"60dda2ba631ea600017ab4a6","feature_image":"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-integrate-firebase-authentication-with-expo-app-2.jpg","featured":true,"meta_title":"How To Integrate Firebase Authentication With an Expo App","meta_description":"In this tutorial, let's take a look at how as a mobile developer building applications using Expo SDK, you can integrate and use Firebase Authentication. ","created_at":"2021-07-01T12:10:50.000+01:00","updated_at":"2021-07-02T09:03:46.000+01:00","published_at":"2021-07-01T12:43:36.000+01:00","custom_excerpt":null,"codeinjection_head":null,"codeinjection_foot":null,"og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"custom_template":null,"canonical_url":null,"page":false,"authors":[{"id":"5cf63cbe2c4b7900014315fc","name":"Aman Mittal","slug":"aman-mittal","profile_image":"https://blog.jscrambler.com/content/images/2020/07/aman-mittal-bio-photo.jpg","cover_image":null,"bio":"I'm Aman who works as an independent developer with technologies such as Node.js, Reactjs and React Native. I try to document and write tutorials to help JavaScript Web and Mobile developers.","website":null,"location":null,"facebook":null,"twitter":"@amanhimself","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/author/aman-mittal/"}],"tags":[{"id":"5cf63cc12c4b7900014316bd","name":"React Native","slug":"react-native","description":null,"feature_image":null,"visibility":"public","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/tag/react-native/"}],"primary_author":{"id":"5cf63cbe2c4b7900014315fc","name":"Aman Mittal","slug":"aman-mittal","profile_image":"https://blog.jscrambler.com/content/images/2020/07/aman-mittal-bio-photo.jpg","cover_image":null,"bio":"I'm Aman who works as an independent developer with technologies such as Node.js, Reactjs and React Native. I try to document and write tutorials to help JavaScript Web and Mobile developers.","website":null,"location":null,"facebook":null,"twitter":"@amanhimself","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/author/aman-mittal/"},"primary_tag":{"id":"5cf63cc12c4b7900014316bd","name":"React Native","slug":"react-native","description":null,"feature_image":null,"visibility":"public","meta_title":null,"meta_description":null,"url":"https://blog.jscrambler.com/tag/react-native/"},"url":"https://blog.jscrambler.com/how-to-integrate-firebase-authentication-with-an-expo-app/","excerpt":"\n\nFirebase [https://console.firebase.google.com/] is a Backend as a Service (BaaS)\nthat provides a variety of services for web and mobile app development. Most of\nthe mobile apps built using React Native and Expo require knowing the identity\nof a user. This allows an app to securely save user data in the cloud and\nprovide more personalized functionalities.\n\nFirebase has an Authentication service that integrates well in a React Native\nand Expo app. It has a ready-to-use SDK and supports many auth","reading_time":"14 min read","image":"https://blog.jscrambler.com/content/images/2021/07/jscrambler-blog-integrate-firebase-authentication-with-expo-app-2.jpg"}]},"search":{"text":"","posts":[],"hints":[],"meta":{},"hasMore":true,"loading":false},"tag":{},"author":{},"error":{}};
        </script>
<script src="/config.js"></script>
<script src="/bundle.js"></script>
</body>
</html>
